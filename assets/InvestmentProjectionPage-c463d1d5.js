import{c as Tt,i as $t,r as C,j as t,H as It,C as N,a as S,b as w,d as F,e as R,B as L,T as Bt,m as Lt}from"./index-4214a3df.js";import{L as g,C as U,I as V}from"./label-d32a9f38.js";import{T as zt,a as Ot,b as gt,c as jt}from"./tabs-9ad4c601.js";import{f as qt}from"./index-65722b09.js";import{B as ft}from"./bar-chart-d0ac2ed6.js";import{P as Et}from"./piggy-bank-5fbe0e85.js";import{R as vt,T as yt,L as bt}from"./generateCategoricalChart-79d1dc4c.js";import{A as Mt,L as Kt}from"./AreaChart-aba8cc07.js";import{C as At,X as Ct,Y as Nt}from"./YAxis-c5bfaba1.js";import{A as W}from"./Area-864fea91.js";import"./index-a53a69e9.js";const St=Tt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function ee(){const{investments:E,investmentGoal:tt}=$t(),et=C.useMemo(()=>E.reduce((e,a)=>e+(a.valor_aporte||0),0),[E]),at=C.useMemo(()=>{if(!E||E.length===0)return 0;const e=E.reduce((m,h)=>{const f=new Date(h.data),x=qt(f,"yyyy-MM");return m[x]=(m[x]||0)+h.valor_aporte,m},{}),a=Object.keys(e).length;return a===0?0:Object.values(e).reduce((m,h)=>m+h,0)/a},[E]),[o,D]=C.useState({initialAmount:"0",monthlyContribution:"0",goalContribution:"0",annualRate:"10",volatilityAnnual:"12",inflationAnnual:"4",contributionGrowthAnnual:"0",years:"10",targetAmount:"",targetDate:""});C.useEffect(()=>{D(e=>({...e,initialAmount:(et||0).toString(),monthlyContribution:(at||0).toString(),goalContribution:(tt||0).toString()}))},[et,at,tt]);const[v,nt]=C.useState(null),[ot,st]=C.useState([]),[ut,rt]=C.useState([]),[G,dt]=C.useState("moderado"),[K,mt]=C.useState(5),wt=e=>{let a=2166136261;for(let s=0;s<e.length;s++)a^=e.charCodeAt(s),a=Math.imul(a,16777619);return a>>>0},Ft=e=>{let a=e>>>0;return()=>{a+=1831565813;let s=Math.imul(a^a>>>15,1|a);return s^=s+Math.imul(s^s>>>7,61|s),((s^s>>>14)>>>0)/4294967296}},xt=e=>{const a=JSON.stringify({ia:e.initialAmount,mc:e.monthlyContribution,gc:e.goalContribution,ar:e.annualRate,vv:e.volatilityAnnual,iaa:e.inflationAnnual,cg:e.contributionGrowthAnnual,y:e.years,ta:e.targetAmount,td:e.targetDate});return Ft(wt(a))},Q=(e,a)=>{D({...o,[a]:e})},j=e=>typeof e=="number"?e:typeof e=="string"&&e.trim()===""?0:parseFloat(String(e).replace(/\./g,"").replace(",",".")),Rt=()=>{const e=j(o.initialAmount),a=j(o.monthlyContribution),s=j(o.goalContribution),m=parseFloat(o.annualRate)/100,h=parseFloat(o.volatilityAnnual)/100,f=parseFloat(o.inflationAnnual)/100,x=parseFloat(o.contributionGrowthAnnual)/100,u=parseInt(o.years)*12,c=j(o.targetAmount)||0,p=o.targetDate?new Date(o.targetDate):null;if(isNaN(u)||u<=0){nt(null),st([]),rt([]);return}const y=Math.pow(1+m,1/12)-1,$=h/Math.sqrt(12),Y=Math.pow(1+f,1/12)-1,X=Math.pow(1+x,1/12)-1;let A=e,b=e,k=a,I=s;const H=[];let Z=0;for(let r=0;r<=u;r++)(r%12===0||r===u)&&H.push({name:`Ano ${Math.floor(r/12)}`,"Projeção (Média)":parseFloat(A.toFixed(2)),"Projeção (Meta)":parseFloat(b.toFixed(2))}),r<u&&(A=A*(1+y)+k,b=b*(1+y)+I,k=k*(1+X),I=I*(1+X),Z+=k);const it=300,lt=xt(o),B=new Array(u+1).fill(0).map(()=>[]);for(let r=0;r<it;r++){let n=e,i=a;for(let l=0;l<=u;l++)if(B[l]||(B[l]=[]),B[l].push(n),l<u){const d=Math.max(1e-12,lt()),M=lt(),q=Math.sqrt(-2*Math.log(d))*Math.cos(2*Math.PI*M),ht=y+$*q;n=n*(1+ht)+i,i=i*(1+X)}}const P=(r,n)=>{if(r.length===0)return 0;const i=[...r].sort((d,M)=>d-M),l=Math.min(i.length-1,Math.max(0,Math.floor(n/100*(i.length-1))));return i[l]},_=B.map((r,n)=>({name:n%12===0||n===u?`Ano ${Math.floor(n/12)}`:"",p10:P(r,10),p50:P(r,50),p90:P(r,90)})).filter(r=>r.name!=="");let ct=null,z=null;if(c>0&&p){const r=new Date,n=Math.max(0,Math.round((p.getFullYear()-r.getFullYear())*12+(p.getMonth()-r.getMonth())));z=Math.min(n,u);const l=B[z]||[],d=l.filter(M=>M>=c).length;ct=l.length>0?d/l.length:null}let O=null;if(c>0&&z!==null){const r=y,n=z,i=e*Math.pow(1+r,n),l=r===0?n:(Math.pow(1+r,n)-1)/r;O=Math.max(0,(c-i)/l)}const J=A>0?Math.min(100,Math.max(0,Z/A*100)):0;nt({average:{total:A},goal:{total:b},probabilityToTarget:ct,requiredMonthlyContribution:O,monthlyInflation:Y,composition:{contributionShare:J,growthShare:Math.max(0,100-J)}}),st(H),rt(_)},Dt=e=>{const a=j(e.initialAmount),s=j(e.monthlyContribution),m=parseFloat(e.annualRate)/100,h=parseFloat(e.contributionGrowthAnnual)/100,x=parseInt(e.years)*12,T=Math.pow(1+m,1/12)-1,u=Math.pow(1+h,1/12)-1;let c=a,p=s,y=0;for(let Y=0;Y<x;Y++)c=c*(1+T)+p,p=p*(1+u),y+=p;const $=c>0?Math.min(100,Math.max(0,y/c*100)):0;return{total:c,contributionShare:$}},kt=e=>{const a=j(e.initialAmount),s=j(e.targetAmount)||0,m=parseFloat(e.annualRate)/100,f=parseInt(e.years)*12;if(!s||f<=0)return null;const x=Math.pow(1+m,1/12)-1,T=f,u=a*Math.pow(1+x,T),c=x===0?T:(Math.pow(1+x,T)-1)/x;return Math.max(0,(s-u)/c)},pt=()=>{const e={conservador:{rate:6,vol:8},moderado:{rate:10,vol:12},arrojado:{rate:14,vol:18}},{rate:a,vol:s}=e[G]||e.moderado,m=new Date;m.setFullYear(m.getFullYear()+K);const h=m.toISOString().split("T")[0],f={initialAmount:(et||0).toString(),monthlyContribution:(at||0).toString(),goalContribution:(tt||0).toString(),annualRate:String(a),volatilityAnnual:String(s),inflationAnnual:o.inflationAnnual,contributionGrowthAnnual:o.contributionGrowthAnnual,years:String(K),targetAmount:o.targetAmount,targetDate:h};D(f),Pt(f)},Pt=e=>{const a=j(e.initialAmount),s=j(e.monthlyContribution),m=j(e.goalContribution),h=parseFloat(e.annualRate)/100,f=parseFloat(e.volatilityAnnual)/100,x=parseFloat(e.inflationAnnual)/100,T=parseFloat(e.contributionGrowthAnnual)/100,c=parseInt(e.years)*12,p=j(e.targetAmount)||0,y=e.targetDate?new Date(e.targetDate):null;if(isNaN(c)||c<=0){nt(null),st([]),rt([]);return}const $=Math.pow(1+h,1/12)-1,Y=f/Math.sqrt(12),X=Math.pow(1+x,1/12)-1,A=Math.pow(1+T,1/12)-1;let b=a,k=a,I=s,H=m;const Z=[];let it=0;for(let n=0;n<=c;n++)(n%12===0||n===c)&&Z.push({name:`Ano ${Math.floor(n/12)}`,"Projeção (Média)":parseFloat(b.toFixed(2)),"Projeção (Meta)":parseFloat(k.toFixed(2))}),n<c&&(b=b*(1+$)+I,k=k*(1+$)+H,I=I*(1+A),H=H*(1+A),it+=I);const lt=300,B=xt(e),P=new Array(c+1).fill(0).map(()=>[]);for(let n=0;n<lt;n++){let i=a,l=s;for(let d=0;d<=c;d++)if(P[d]||(P[d]=[]),P[d].push(i),d<c){const M=Math.max(1e-12,B()),q=B(),ht=Math.sqrt(-2*Math.log(M))*Math.cos(2*Math.PI*q),Gt=$+Y*ht;i=i*(1+Gt)+l,l=l*(1+A)}}const _=(n,i)=>{if(n.length===0)return 0;const l=[...n].sort((M,q)=>M-q),d=Math.min(l.length-1,Math.max(0,Math.floor(i/100*(l.length-1))));return l[d]},ct=P.map((n,i)=>({name:i%12===0||i===c?`Ano ${Math.floor(i/12)}`:"",p10:_(n,10),p50:_(n,50),p90:_(n,90)})).filter(n=>n.name!=="");let z=null,O=null;if(p>0&&y){const n=new Date,i=Math.max(0,Math.round((y.getFullYear()-n.getFullYear())*12+(y.getMonth()-n.getMonth())));O=Math.min(i,c);const d=P[O]||[],M=d.filter(q=>q>=p).length;z=d.length>0?M/d.length:null}let J=null;if(p>0&&O!==null){const n=$,i=O,l=a*Math.pow(1+n,i),d=n===0?i:(Math.pow(1+n,i)-1)/n;J=Math.max(0,(p-l)/d)}const r=b>0?Math.min(100,Math.max(0,it/b*100)):0;nt({average:{total:b},goal:{total:k},probabilityToTarget:z,requiredMonthlyContribution:J,monthlyInflation:X,composition:{contributionShare:r,growthShare:Math.max(0,100-r)}}),st(Z),rt(ct)};return C.useEffect(()=>{pt()},[G,K,et,at,tt]),t.jsxs(t.Fragment,{children:[t.jsxs(It,{children:[t.jsx("title",{children:"Projeção de Investimentos - Lumify"}),t.jsx("meta",{name:"description",content:"Simule o crescimento do seu patrimônio com base em suas metas e rendimentos."})]}),t.jsxs("div",{className:"space-y-4 md:space-y-5 page-top",children:[t.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Projeção de Investimentos"}),t.jsxs(zt,{defaultValue:"simple",children:[t.jsxs(Ot,{className:"mb-2",children:[t.jsx(gt,{value:"simple",children:"Simples"}),t.jsx(gt,{value:"advanced",children:"Avançado"})]}),t.jsx(jt,{value:"simple",children:t.jsxs(N,{children:[t.jsxs(S,{children:[t.jsxs(w,{className:"flex items-center gap-2",children:[t.jsx(St,{className:"text-primary"}),"Projeção Automática"]}),t.jsx(F,{children:"Usa seu histórico para preencher e simular automaticamente."})]}),t.jsxs(R,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4 mb-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(g,{children:"Perfil de Risco"}),t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsx(L,{variant:G==="conservador"?"default":"secondary",onClick:()=>dt("conservador"),children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-semibold",children:"Conservador"}),t.jsx("div",{className:"text-xs opacity-75",children:"6% a.a."})]})}),t.jsx(L,{variant:G==="moderado"?"default":"secondary",onClick:()=>dt("moderado"),children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-semibold",children:"Moderado"}),t.jsx("div",{className:"text-xs opacity-75",children:"10% a.a."})]})}),t.jsx(L,{variant:G==="arrojado"?"default":"secondary",onClick:()=>dt("arrojado"),children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-semibold",children:"Arrojado"}),t.jsx("div",{className:"text-xs opacity-75",children:"14% a.a."})]})})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[G==="conservador"&&"Renda fixa, CDB, Tesouro. Menor risco, retorno mais previsível.",G==="moderado"&&"Mistura de renda fixa e variável. Equilíbrio entre risco e retorno.",G==="arrojado"&&"Mais ações, fundos de ações. Maior potencial, mais volatilidade."]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(g,{children:"Horizonte"}),t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsx(L,{variant:K===3?"default":"secondary",onClick:()=>mt(3),children:"3 anos"}),t.jsx(L,{variant:K===5?"default":"secondary",onClick:()=>mt(5),children:"5 anos"}),t.jsx(L,{variant:K===10?"default":"secondary",onClick:()=>mt(10),children:"10 anos"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(g,{htmlFor:"targetAmountSimple",children:"Meta (opcional)"}),t.jsx(U,{id:"targetAmountSimple",value:o.targetAmount,onChange:e=>Q(e,"targetAmount")})]})]}),t.jsx("div",{className:"mb-4",children:t.jsx(L,{onClick:pt,className:"w-full",children:"Atualizar Projeção"})}),v&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4 mt-4 md:mt-5",children:[t.jsxs(N,{children:[t.jsxs(S,{className:"pb-2",children:[t.jsx(w,{className:"text-sm font-medium",children:"Patrimônio estimado no fim"}),t.jsx(F,{children:"Com base no seu histórico"})]}),t.jsx(R,{children:t.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",v.average.total.toLocaleString("pt-BR",{minimumFractionDigits:2})]})})]}),t.jsxs(N,{children:[t.jsxs(S,{className:"pb-2",children:[t.jsx(w,{className:"text-sm font-medium",children:"Composição: Aportes vs Rendimentos"}),t.jsx(F,{children:"Quanto vem de disciplina x juros"})]}),t.jsxs(R,{children:[t.jsx("div",{className:"w-full h-3 bg-muted rounded overflow-hidden",children:t.jsx("div",{className:"h-full bg-primary",style:{width:`${Math.round(v.composition.contributionShare)}%`}})}),t.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[Math.round(v.composition.contributionShare),"% aportes • ",Math.round(v.composition.growthShare),"% rendimentos"]})]})]}),t.jsxs(N,{children:[t.jsxs(S,{className:"pb-2",children:[t.jsx(w,{className:"text-sm font-medium",children:"Probabilidade de atingir a meta"}),t.jsx(F,{children:"Se você definiu meta e data"})]}),t.jsxs(R,{children:[t.jsx("div",{className:"text-2xl font-bold",children:v.probabilityToTarget===null?"-":`${Math.round(v.probabilityToTarget*100)}%`}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Dica: aumentar um pouco o aporte eleva muito a chance."})]})]})]}),ot.length>0&&t.jsxs("div",{className:"mt-4 md:mt-5",children:[t.jsxs("div",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[t.jsx(Bt,{className:"h-5 w-5 text-primary"}),"Marcos por ano"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ot.map((e,a)=>t.jsxs(N,{className:"relative overflow-hidden",children:[t.jsxs(S,{className:"pb-2",children:[t.jsx(w,{className:"text-lg font-bold text-primary",children:e.name}),t.jsx(F,{children:a===0?"Situação atual":a===1?"Primeiro ano":a===2?"Segundo ano":`Ano ${a}`})]}),t.jsx(R,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Cenário Média"}),t.jsxs("span",{className:"font-bold text-lg",children:["R$ ",e["Projeção (Média)"].toLocaleString("pt-BR",{minimumFractionDigits:0})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Cenário Meta"}),t.jsxs("span",{className:"font-bold text-lg text-primary",children:["R$ ",e["Projeção (Meta)"].toLocaleString("pt-BR",{minimumFractionDigits:0})]})]}),a>0&&t.jsx("div",{className:"pt-2 border-t",children:t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Diferença: R$ ",(e["Projeção (Meta)"]-e["Projeção (Média)"]).toLocaleString("pt-BR",{minimumFractionDigits:0})]})})]})})]},e.name))})]}),v&&t.jsx("div",{className:"mt-6 text-sm text-muted-foreground",children:v.requiredMonthlyContribution!==null?t.jsxs("div",{children:["Para alcançar sua meta no prazo, um aporte de cerca de ",t.jsxs("span",{className:"font-medium",children:["R$ ",v.requiredMonthlyContribution.toLocaleString("pt-BR",{minimumFractionDigits:2}),"/mês"]})," seria suficiente (assumindo as premissas)."]}):t.jsx("div",{children:"Defina uma meta e data-alvo para receber uma sugestão prática de aporte mensal."})})]})]})}),t.jsx(jt,{value:"advanced",children:t.jsxs(N,{children:[t.jsxs(S,{children:[t.jsxs(w,{className:"flex items-center gap-2",children:[t.jsx(St,{className:"text-primary"}),"Simulador de Patrimônio (Pressupostos)"]}),t.jsx(F,{children:"Defina premissas e projete seu patrimônio com bandas de incerteza."})]}),t.jsxs(R,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4 mb-4 md:mb-5",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(g,{htmlFor:"initialAmount",children:"Patrimônio Inicial (R$)"}),t.jsx(U,{id:"initialAmount",value:o.initialAmount,onChange:e=>Q(e,"initialAmount")})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(g,{htmlFor:"annualRate",children:"Rendimento Anual (%)"}),t.jsx(V,{id:"annualRate",type:"number",value:o.annualRate,onChange:e=>D({...o,annualRate:e.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(g,{htmlFor:"volatilityAnnual",children:"Volatilidade Anual (%)"}),t.jsx(V,{id:"volatilityAnnual",type:"number",value:o.volatilityAnnual,onChange:e=>D({...o,volatilityAnnual:e.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(g,{htmlFor:"years",children:"Período (anos)"}),t.jsx(V,{id:"years",type:"number",value:o.years,onChange:e=>D({...o,years:e.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(g,{htmlFor:"inflationAnnual",children:"Inflação Anual (%)"}),t.jsx(V,{id:"inflationAnnual",type:"number",value:o.inflationAnnual,onChange:e=>D({...o,inflationAnnual:e.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(g,{htmlFor:"contributionGrowthAnnual",children:"Crescimento do Aporte (% a.a.)"}),t.jsx(V,{id:"contributionGrowthAnnual",type:"number",value:o.contributionGrowthAnnual,onChange:e=>D({...o,contributionGrowthAnnual:e.target.value})})]}),t.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(g,{htmlFor:"monthlyContribution",children:"Aporte Mensal (Média Atual)"}),t.jsx(U,{id:"monthlyContribution",value:o.monthlyContribution,onChange:e=>Q(e,"monthlyContribution")})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(g,{htmlFor:"goalContribution",children:"Aporte Mensal (Meta)"}),t.jsx(U,{id:"goalContribution",value:o.goalContribution,onChange:e=>Q(e,"goalContribution")})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(g,{htmlFor:"targetAmount",children:"Meta de Patrimônio (R$)"}),t.jsx(U,{id:"targetAmount",value:o.targetAmount,onChange:e=>Q(e,"targetAmount")})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(g,{htmlFor:"targetDate",children:"Data-Alvo"}),t.jsx(V,{id:"targetDate",type:"date",value:o.targetDate,onChange:e=>D({...o,targetDate:e.target.value})})]})]})]}),t.jsx(L,{onClick:Rt,className:"w-full",children:"Calcular Projeção Comparativa"})]})]})})]}),v&&t.jsxs(Lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4 md:space-y-5",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 md:gap-4",children:[t.jsxs(N,{children:[t.jsxs(S,{children:[t.jsxs(w,{className:"flex items-center gap-2",children:[t.jsx(ft,{className:"h-4 w-4"}),"Comparativo de Cenários"]}),t.jsx(F,{children:"Estimativa determinística ao fim do horizonte atual."})]}),t.jsx(R,{children:(()=>{const a=[{key:"conservador",label:"Conservador",rate:6,vol:8},{key:"moderado",label:"Moderado",rate:10,vol:12},{key:"arrojado",label:"Arrojado",rate:14,vol:18}].map(s=>{const m={...o,annualRate:String(s.rate),volatilityAnnual:String(s.vol)},h=Dt(m);return{...s,total:h.total,contributionShare:h.contributionShare}});return t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:a.map(s=>t.jsxs("div",{className:"p-3 rounded border",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:s.label}),t.jsxs("div",{className:"text-xl font-bold",children:["R$ ",s.total.toLocaleString("pt-BR",{minimumFractionDigits:0})]}),t.jsx("div",{className:"mt-2 h-2 bg-muted rounded overflow-hidden",children:t.jsx("div",{className:"h-full bg-primary",style:{width:`${Math.round(s.contributionShare)}%`}})}),t.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[Math.round(s.contributionShare),"% aportes"]})]},s.key))})})()})]}),t.jsxs(N,{children:[t.jsxs(S,{children:[t.jsxs(w,{className:"flex items-center gap-2",children:[t.jsx(Et,{className:"h-4 w-4"}),"Sensibilidade de Aporte"]}),t.jsx(F,{children:"Quanto falta por mês para atingir sua meta no prazo."})]}),t.jsx(R,{children:(()=>{const e=kt(o);if(e===null)return t.jsx("div",{className:"text-sm text-muted-foreground",children:"Defina uma meta (R$) e data-alvo para ver a sugestão de aporte."});const a=parseFloat(o.goalContribution||o.monthlyContribution||"0"),s=Math.max(0,e-a);return t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"text-2xl font-semibold",children:["R$ ",e.toLocaleString("pt-BR",{minimumFractionDigits:2})," / mês"]}),s>0?t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Faltam cerca de R$ ",s.toLocaleString("pt-BR",{minimumFractionDigits:2}),"/mês para atingir sua meta no prazo."]}):t.jsx("div",{className:"text-sm text-muted-foreground",children:"Você já está no caminho para bater a meta com o aporte atual."})]})})()})]})]}),ot.length>0&&t.jsxs(N,{children:[t.jsxs(S,{children:[t.jsxs(w,{className:"flex items-center gap-2",children:[t.jsx(ft,{className:"text-primary"}),"Comparativo de Projeções"]}),t.jsx(F,{children:"Evolução do seu patrimônio: Meta vs. Média de Aportes e bandas (p10/p50/p90)."})]}),t.jsx(R,{children:t.jsx(vt,{width:"100%",height:350,children:t.jsxs(Mt,{data:ot,children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"colorGoal",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.8}),t.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]}),t.jsxs("linearGradient",{id:"colorAverage",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"hsl(var(--vibrant-accent))",stopOpacity:.7}),t.jsx("stop",{offset:"95%",stopColor:"hsl(var(--vibrant-accent))",stopOpacity:0})]}),t.jsxs("linearGradient",{id:"colorP50",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.7}),t.jsx("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]})]}),t.jsx(At,{strokeDasharray:"3 3",vertical:!1}),t.jsx(Ct,{dataKey:"name",tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),t.jsx(Nt,{tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickFormatter:e=>`R$${e/1e3}k`}),t.jsx(yt,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))"},formatter:(e,a)=>[`R$ ${e.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,a]}),t.jsx(bt,{}),t.jsx(W,{type:"monotone",dataKey:"Projeção (Meta)",stroke:"hsl(var(--primary))",fillOpacity:1,fill:"url(#colorGoal)"}),t.jsx(W,{type:"monotone",dataKey:"Projeção (Média)",stroke:"hsl(var(--vibrant-accent))",fillOpacity:1,fill:"url(#colorAverage)"})]})})})]}),ut.length>0&&t.jsxs(N,{children:[t.jsxs(S,{children:[t.jsxs(w,{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"text-primary"}),"Bandas de Projeção (Monte Carlo)"]}),t.jsx(F,{children:"Percentis p10/p50/p90 por ano."})]}),t.jsx(R,{children:t.jsx(vt,{width:"100%",height:350,children:t.jsxs(Mt,{data:ut,children:[t.jsx(At,{strokeDasharray:"3 3",vertical:!1}),t.jsx(Ct,{dataKey:"name",tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),t.jsx(Nt,{tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickFormatter:e=>`R$${e/1e3}k`}),t.jsx(yt,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))"},formatter:(e,a)=>[`R$ ${e.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,a]}),t.jsx(bt,{}),t.jsx(W,{type:"monotone",dataKey:"p90",name:"p90 (otimista)",stroke:"#60a5fa",fill:"#60a5fa33"}),t.jsx(W,{type:"monotone",dataKey:"p50",name:"p50 (mediano)",stroke:"#22c55e",fill:"#22c55e33"}),t.jsx(W,{type:"monotone",dataKey:"p10",name:"p10 (pessimista)",stroke:"#f59e0b",fill:"#f59e0b33"})]})})})]})]})]})]})}export{ee as InvestmentProjectionPage};
