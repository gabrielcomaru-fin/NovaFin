import{f as j,e as g,j as e,S as N,g as o}from"./index-ae7326c1.js";import{C as v,a as b,b as w,d as k}from"./card-4d905d8a.js";import{a as y,b as C,s as S,e as M,p as D}from"./index-b5f65b9f.js";function I(){const{points:m,achievements:a}=j(),{investments:x,investmentGoal:u}=g(),h=(()=>{const s=Number(u)||0;if(!s)return 0;const c=y({start:C(new Date,11),end:new Date}).map(t=>{const f=S(t),p=M(t);return x.filter(n=>{const r=D(n.data);return r>=f&&r<=p}).reduce((n,r)=>n+r.valor_aporte,0)>=s});let i=0;for(let t=c.length-1;t>=0&&c[t];t--)i++;return i})(),d=[...a||[]].sort((s,l)=>new Date(l.unlockedAt)-new Date(s.unlockedAt)).slice(0,3);return e.jsxs(v,{children:[e.jsx(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsxs(w,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4 text-primary"})," Conquistas"]})}),e.jsxs(k,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-3 rounded-md border bg-card",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Pontos"}),e.jsx("div",{className:"text-2xl font-bold mt-1",children:m})]}),e.jsxs("div",{className:"p-3 rounded-md border bg-card",children:[e.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(o,{className:"h-4 w-4 text-primary"})," Streak mensal (metas)"]}),e.jsxs("div",{className:"text-2xl font-bold mt-1",children:[h,"m"]})]}),e.jsxs("div",{className:"p-3 rounded-md border bg-card",children:[e.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(o,{className:"h-4 w-4 text-success"})," Conquistas"]}),e.jsx("div",{className:"text-2xl font-bold mt-1",children:(a==null?void 0:a.length)||0})]})]}),d.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Recentes"}),e.jsx("div",{className:"grid gap-2",children:d.map(s=>e.jsxs("div",{className:"p-2 rounded-md border bg-muted/40 text-sm",children:[e.jsx("span",{className:"font-medium",children:s.title}),e.jsxs("span",{className:"text-muted-foreground",children:[" â€” ",s.description]})]},s.id))})]})]})]})}export{I as G};
