import{c as T,r as m,v as Fe,w as Y,j as e,x as $e,O as ze,y as K,W as Oe,z as Me,A as Ie,E as Le,F as Be,G as Q,P as He,J as Ve,K as qe,R as d,b as i,M as Z,N as Ge,B as f,I as Je,Q as Ue,m as We,U as Xe,V as Ye}from"./index-dab93e87.js";import{P as E,g as F,F as $,h as z,S as G,b as J,c as U,d as W,f as D,i as Ke,j as Qe}from"./CompactHeader-55b99d0b.js";import{a as Ze}from"./plus-9435e49b.js";import{T as ea}from"./trash-2-01873c4f.js";const O=T("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),X=T("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Aa=T("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),aa=T("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function Da(a,s){const t=m.useRef(!0),[l,o]=m.useState(()=>{try{const h=localStorage.getItem(a);return h!==null?JSON.parse(h):typeof s=="function"?s():s}catch{return typeof s=="function"?s():s}});return m.useEffect(()=>{if(t.current){t.current=!1;return}try{localStorage.setItem(a,JSON.stringify(l))}catch{}},[a,l]),[l,o]}var ee="AlertDialog",[sa,Ca]=Fe(ee,[Y]),u=Y(),ae=a=>{const{__scopeAlertDialog:s,...t}=a,l=u(s);return e.jsx(qe,{...l,...t,modal:!0})};ae.displayName=ee;var ta="AlertDialogTrigger",se=m.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...l}=a,o=u(t);return e.jsx($e,{...o,...l,ref:s})});se.displayName=ta;var ra="AlertDialogPortal",te=a=>{const{__scopeAlertDialog:s,...t}=a,l=u(s);return e.jsx(He,{...l,...t})};te.displayName=ra;var la="AlertDialogOverlay",re=m.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...l}=a,o=u(t);return e.jsx(ze,{...o,...l,ref:s})});re.displayName=la;var N="AlertDialogContent",[oa,ia]=sa(N),na=Ve("AlertDialogContent"),le=m.forwardRef((a,s)=>{const{__scopeAlertDialog:t,children:l,...o}=a,h=u(t),j=m.useRef(null),C=K(s,j),b=m.useRef(null);return e.jsx(Oe,{contentName:N,titleName:oe,docsSlug:"alert-dialog",children:e.jsx(oa,{scope:t,cancelRef:b,children:e.jsxs(Me,{role:"alertdialog",...h,...o,ref:C,onOpenAutoFocus:Ie(o.onOpenAutoFocus,g=>{var y;g.preventDefault(),(y=b.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[e.jsx(na,{children:l}),e.jsx(da,{contentRef:j})]})})})});le.displayName=N;var oe="AlertDialogTitle",ie=m.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...l}=a,o=u(t);return e.jsx(Le,{...o,...l,ref:s})});ie.displayName=oe;var ne="AlertDialogDescription",ce=m.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...l}=a,o=u(t);return e.jsx(Be,{...o,...l,ref:s})});ce.displayName=ne;var ca="AlertDialogAction",de=m.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...l}=a,o=u(t);return e.jsx(Q,{...o,...l,ref:s})});de.displayName=ca;var me="AlertDialogCancel",xe=m.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...l}=a,{cancelRef:o}=ia(me,t),h=u(t),j=K(s,o);return e.jsx(Q,{...h,...l,ref:j})});xe.displayName=me;var da=({contentRef:a})=>{const s=`\`${N}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${N}\` by passing a \`${ne}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${N}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var l;document.getElementById((l=a.current)==null?void 0:l.getAttribute("aria-describedby"))||console.warn(s)},[s,a]),null},ma=ae,xa=se,pa=te,pe=re,ue=le,he=de,ge=xe,fe=ie,je=ce;const ua=ma,ha=xa,ga=pa,ve=d.forwardRef(({className:a,...s},t)=>e.jsx(pe,{className:i("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t}));ve.displayName=pe.displayName;const Ne=d.forwardRef(({className:a,...s},t)=>e.jsxs(ga,{children:[e.jsx(ve,{}),e.jsx(ue,{ref:t,className:i("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s})]}));Ne.displayName=ue.displayName;const be=({className:a,...s})=>e.jsx("div",{className:i("flex flex-col space-y-2 text-center sm:text-left",a),...s});be.displayName="AlertDialogHeader";const ye=({className:a,...s})=>e.jsx("div",{className:i("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s});ye.displayName="AlertDialogFooter";const we=d.forwardRef(({className:a,...s},t)=>e.jsx(fe,{ref:t,className:i("text-lg font-semibold",a),...s}));we.displayName=fe.displayName;const Ae=d.forwardRef(({className:a,...s},t)=>e.jsx(je,{ref:t,className:i("text-sm text-muted-foreground",a),...s}));Ae.displayName=je.displayName;const De=d.forwardRef(({className:a,...s},t)=>e.jsx(he,{ref:t,className:i(Z(),a),...s}));De.displayName=he.displayName;const Ce=d.forwardRef(({className:a,...s},t)=>e.jsx(ge,{ref:t,className:i(Z({variant:"outline"}),"mt-2 sm:mt-0",a),...s}));Ce.displayName=ge.displayName;const Re=d.forwardRef(({className:a,...s},t)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:t,className:i("w-full caption-bottom text-sm",a),...s})}));Re.displayName="Table";const Te=d.forwardRef(({className:a,...s},t)=>e.jsx("thead",{ref:t,className:i("[&_tr]:border-b",a),...s}));Te.displayName="TableHeader";const Se=d.forwardRef(({className:a,...s},t)=>e.jsx("tbody",{ref:t,className:i("[&_tr:last-child]:border-0",a),...s}));Se.displayName="TableBody";const fa=d.forwardRef(({className:a,...s},t)=>e.jsx("tfoot",{ref:t,className:i("bg-primary font-medium text-primary-foreground",a),...s}));fa.displayName="TableFooter";const M=d.forwardRef(({className:a,...s},t)=>e.jsx("tr",{ref:t,className:i("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s}));M.displayName="TableRow";const p=d.forwardRef(({className:a,...s},t)=>e.jsx("th",{ref:t,className:i("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s}));p.displayName="TableHead";const x=d.forwardRef(({className:a,...s},t)=>e.jsx("td",{ref:t,className:i("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s}));x.displayName="TableCell";const ja=d.forwardRef(({className:a,...s},t)=>e.jsx("caption",{ref:t,className:i("mt-4 text-sm text-muted-foreground",a),...s}));ja.displayName="TableCaption";const va=Ge("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function v({className:a,variant:s,...t}){return e.jsx("div",{className:i(va({variant:s}),a),...t})}const Ra=({transactions:a,categories:s,accounts:t,type:l,onEdit:o,onDelete:h,onTogglePayment:j,selectable:C,selectedIds:b=[],onSelectOne:g,onSelectAll:y,searchTerm:S,onSearchChange:I,selectedCategory:k,onCategoryChange:L,paymentStatus:_,onPaymentStatusChange:B,sortBy:w,onSortChange:R})=>{const n=l==="expense",ke=!!(S&&String(S).trim()!==""),_e=!!(k&&k!=="all"),Pe=!!(n&&_&&_!=="all"),H=(r,c)=>w?w===r?e.jsx(Ke,{className:"inline-block h-3.5 w-3.5 ml-1 opacity-70"}):w===c?e.jsx(Qe,{className:"inline-block h-3.5 w-3.5 ml-1 opacity-70"}):null:null,V=(r,c)=>{R&&R(w===c?r:c)};return e.jsx("div",{className:"rounded-lg border overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Re,{children:[e.jsx(Te,{children:e.jsxs(M,{children:[C&&e.jsx(p,{className:"w-[40px] align-middle",children:e.jsx("input",{type:"checkbox",className:"rounded accent-primary",checked:a.length>0&&a.every(r=>b.includes(r.id)),onChange:r=>y&&y(a.map(c=>c.id),r.target.checked),"aria-label":"Selecionar todos"})}),e.jsx(p,{className:"align-middle whitespace-nowrap w-[30%]",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-[11px] uppercase text-muted-foreground",children:"Descrição"}),I&&e.jsxs(E,{children:[e.jsx(F,{asChild:!0,children:e.jsx(f,{variant:"ghost",size:"icon",className:`h-6 w-6 p-0 ${ke?"text-primary bg-primary/10":"text-muted-foreground"} hover:text-foreground`,title:"Filtrar descrição",children:e.jsx($,{className:"h-3.5 w-3.5"})})}),e.jsx(z,{className:"w-72",align:"start",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Filtrar Descrição"}),e.jsx(Je,{value:S||"",onChange:r=>I(r.target.value),placeholder:"Digite parte da descrição",className:"h-8 text-sm"})]})})]})]})}),e.jsx(p,{className:"hidden sm:table-cell align-middle whitespace-nowrap w-[18%]",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-[11px] uppercase text-muted-foreground",children:"Categoria"}),L&&e.jsxs(E,{children:[e.jsx(F,{asChild:!0,children:e.jsx(f,{variant:"ghost",size:"icon",className:`h-6 w-6 p-0 ${_e?"text-primary bg-primary/10":"text-muted-foreground"} hover:text-foreground`,title:"Filtrar categoria",children:e.jsx($,{className:"h-3.5 w-3.5"})})}),e.jsx(z,{className:"w-56",align:"start",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Filtrar Categoria"}),e.jsxs(G,{value:k||"all",onValueChange:L,children:[e.jsx(J,{className:"h-8 text-sm",children:e.jsx(U,{placeholder:"Todas"})}),e.jsxs(W,{children:[e.jsx(D,{value:"all",children:"Todas"}),s.map(r=>e.jsx(D,{value:r.id,children:r.nome},r.id))]})]})]})})]})]})}),!n&&e.jsx(p,{className:"hidden md:table-cell align-middle whitespace-nowrap w-[18%]",children:e.jsx("div",{className:"flex items-center gap-1.5",children:e.jsx("span",{className:"text-xs uppercase text-muted-foreground",children:"Instituição"})})}),e.jsx(p,{className:"align-middle cursor-pointer select-none w-[14%]",children:e.jsxs("div",{className:"flex items-center gap-1.5",onClick:()=>V("value-asc","value-desc"),children:[e.jsx("span",{className:"text-xs uppercase text-muted-foreground",children:"Valor"}),H("value-asc","value-desc")]})}),e.jsx(p,{className:"hidden md:table-cell align-middle cursor-pointer select-none w-[12%]",children:e.jsxs("div",{className:"flex items-center gap-1.5",onClick:()=>V("date-asc","date-desc"),children:[e.jsx("span",{className:"text-xs uppercase text-muted-foreground",children:"Data"}),H("date-asc","date-desc")]})}),n&&e.jsx(p,{className:"hidden sm:table-cell align-middle whitespace-nowrap w-[12%]",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-[11px] uppercase text-muted-foreground",children:"Status"}),B&&e.jsxs(E,{children:[e.jsx(F,{asChild:!0,children:e.jsx(f,{variant:"ghost",size:"icon",className:`h-6 w-6 p-0 ${Pe?"text-primary bg-primary/10":"text-muted-foreground"} hover:text-foreground`,title:"Filtrar status",children:e.jsx($,{className:"h-3.5 w-3.5"})})}),e.jsx(z,{className:"w-56",align:"center",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Filtrar Status"}),e.jsxs(G,{value:_||"all",onValueChange:B,children:[e.jsx(J,{className:"h-8 text-sm",children:e.jsx(U,{placeholder:"Todos"})}),e.jsxs(W,{children:[e.jsx(D,{value:"all",children:"Todos"}),e.jsx(D,{value:"paid",children:"Pagos"}),e.jsx(D,{value:"pending",children:"Pendentes"})]})]})]})})]})]})}),e.jsx(p,{className:"align-middle whitespace-nowrap w-[10%]",children:e.jsx("div",{className:"flex items-center gap-1.5",children:e.jsx("span",{className:"text-xs uppercase text-muted-foreground",children:"Ações"})})})]})}),e.jsxs(Se,{children:[e.jsx(Ue,{children:a.map(r=>{const c=s.find(A=>A.id===r.categoria_id),P=t==null?void 0:t.find(A=>A.id===r.instituicao_id),Ee=n?r.valor:r.valor_aporte,q=r.descricao;return e.jsxs(We.tr,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"hover:bg-muted/50",children:[C&&e.jsx(x,{className:"w-[40px]",children:e.jsx("input",{type:"checkbox",className:"rounded accent-primary",checked:b.includes(r.id),onChange:A=>g&&g(r.id,A.target.checked),"aria-label":`Selecionar ${q}`})}),e.jsx(x,{className:"font-medium w-[30%]",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{children:q}),e.jsx("div",{className:"sm:hidden",children:e.jsx(v,{variant:"outline",className:"text-xs",children:(c==null?void 0:c.nome)||"Sem categoria"})}),n&&e.jsx("div",{className:"sm:hidden",children:r.pago?e.jsxs(v,{variant:"default",className:"bg-green-100 text-green-800 border-green-200 text-xs",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),"Pago"]}):e.jsxs(v,{variant:"outline",className:"text-orange-600 border-orange-200 text-xs",children:[e.jsx(X,{className:"w-3 h-3 mr-1"}),"Pendente"]})})]})}),e.jsx(x,{className:"hidden sm:table-cell w-[18%]",children:e.jsx(v,{variant:"outline",children:(c==null?void 0:c.nome)||"Sem categoria"})}),!n&&e.jsx(x,{className:"hidden md:table-cell w-[18%]",children:e.jsx(v,{variant:"secondary",children:(P==null?void 0:P.nome_banco)||"Sem instituição"})}),e.jsxs(x,{className:`font-semibold w-[14%] ${n?"text-destructive text-left":"text-green-500 text-left"}`,children:[n?"- R$ ":"+ R$ "," ",Ee.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx(x,{className:"hidden md:table-cell text-muted-foreground w-[12%] text-left",children:new Date(r.data).toLocaleDateString("pt-BR",{timeZone:"UTC"})}),n&&e.jsx(x,{className:"hidden sm:table-cell w-[12%]",children:e.jsx("div",{className:"flex items-center",children:r.pago?e.jsxs(v,{variant:"default",className:"bg-green-100 text-green-800 border-green-200",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),"Pago"]}):e.jsxs(v,{variant:"outline",className:"text-orange-600 border-orange-200",children:[e.jsx(X,{className:"w-3 h-3 mr-1"}),"Pendente"]})})}),e.jsx(x,{className:"w-[10%]",children:e.jsxs("div",{className:"flex items-center gap-1",children:[n&&j&&e.jsx(f,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>j(r.id),title:r.pago?"Marcar como não pago":"Marcar como pago",children:r.pago?e.jsx(aa,{className:"h-4 w-4 text-orange-600 hover:text-orange-700"}):e.jsx(O,{className:"h-4 w-4 text-green-600 hover:text-green-700"})}),e.jsx(f,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>o(r),children:e.jsx(Ze,{className:"h-4 w-4"})}),e.jsxs(ua,{children:[e.jsx(ha,{asChild:!0,children:e.jsx(f,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",children:e.jsx(ea,{className:"h-4 w-4"})})}),e.jsxs(Ne,{children:[e.jsxs(be,{children:[e.jsx(we,{children:"Você tem certeza?"}),e.jsx(Ae,{children:"Esta ação não pode ser desfeita. Isso excluirá permanentemente esta transação."})]}),e.jsxs(ye,{children:[e.jsx(Ce,{children:"Cancelar"}),e.jsx(De,{onClick:()=>h(r.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Excluir"})]})]})]})]})})]},r.id)})}),a.length===0&&e.jsx(M,{children:e.jsx(x,{colSpan:6,className:"py-10 text-center text-sm text-muted-foreground",children:"Nenhum resultado para os filtros aplicados."})})]})]})})})},Ta=({currentPage:a,totalPages:s,onPageChange:t})=>s<=1?null:e.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-6",children:[e.jsxs(f,{variant:"outline",size:"sm",onClick:()=>t(a-1),disabled:a===1,children:[e.jsx(Xe,{className:"h-4 w-4"}),e.jsx("span",{className:"ml-2",children:"Anterior"})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Página ",a," de ",s]}),e.jsxs(f,{variant:"outline",size:"sm",onClick:()=>t(a+1),disabled:a===s,children:[e.jsx("span",{className:"mr-2",children:"Próxima"}),e.jsx(Ye,{className:"h-4 w-4"})]})]});export{v as B,O as C,Aa as L,Ta as P,Ra as T,X as a,Da as u};
