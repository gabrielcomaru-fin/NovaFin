import{c as Ye,j as e,e as _e,a as Ae,r as l,h as me,i as ue,B as X,k as he,l as xe,n as pe,d as ie,p as ge,I as fe,C as je,T as Ie,f as ze,H as He,s as Z,D as ye}from"./index-dab93e87.js";import{B as Ke,u as Qe,L as Ue,T as We,P as Je}from"./Pagination-816aa0dd.js";import{C as b,a as w,b as C,c as le,d as S}from"./card-def18805.js";import{R as Xe,C as Ze,T as Ee,L as et}from"./generateCategoricalChart-39c212d1.js";import{P as tt,a as at}from"./PieChart-3d1f9eb4.js";import{L as T}from"./label-0103d346.js";import{S as ve,b as Ne,c as be,d as we,f as Ce,s as st,e as rt,C as nt,a as ot}from"./CompactHeader-55b99d0b.js";import{P as it}from"./plus-9435e49b.js";import{T as lt,a as ct,b as Se,c as De}from"./tabs-e628770b.js";import{s as V,e as q,p as K,a as re,b as ne}from"./index-b5f65b9f.js";import{f as Re}from"./index-65722b09.js";import{p as dt}from"./index-23bf3cd3.js";import"./trash-2-01873c4f.js";import"./index-a53a69e9.js";import"./extends-4c19d496.js";const mt=Ye("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Me=["hsl(213, 77%, 59%)","hsl(340, 82%, 52%)","hsl(160, 100%, 30%)","hsl(45, 100%, 50%)","hsl(280, 80%, 60%)","hsl(20, 100%, 60%)"],ut=({active:m,payload:r})=>m&&r&&r.length?e.jsxs("div",{className:"p-2 bg-background border rounded-lg shadow-sm",children:[e.jsx("p",{className:"font-bold",children:`${r[0].name}`}),e.jsx("p",{className:"text-sm text-primary",children:`Valor: R$ ${r[0].value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`}),e.jsx("p",{className:"text-sm text-muted-foreground",children:`Percentual: ${(r[0].percent*100).toFixed(2)}%`})]}):null,Fe=({data:m,title:r,description:F})=>{if(!m||m.length===0)return null;const _=m.map(g=>({name:g.categoryName,value:g.total}));return e.jsxs(b,{children:[e.jsxs(w,{children:[e.jsx(C,{children:r}),e.jsx(le,{children:F})]}),e.jsx(S,{children:e.jsx("div",{style:{width:"100%",height:300},children:e.jsx(Xe,{children:e.jsxs(tt,{children:[e.jsx(at,{data:_,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",stroke:"hsl(var(--background))",strokeWidth:2,label:({percent:g})=>`${(g*100).toFixed(0)}%`,children:_.map((g,B)=>e.jsx(Ze,{fill:Me[B%Me.length]},`cell-${B}`))}),e.jsx(Ee,{content:e.jsx(ut,{})}),e.jsx(et,{iconType:"circle"})]})})})})]})};function ht({onSubmit:m,investmentToEdit:r,onOpenChange:F,isOpen:_}){const{investmentGoal:g,handleSetInvestmentGoal:B,categories:j,accounts:D}=_e(),{toast:O}=Ae(),Q=j.filter(a=>a.tipo==="investimento"),A={descricao:"",valor_aporte:"",categoria_id:"",instituicao_id:"",data:new Date().toISOString().split("T")[0]},E={goal:""},[x,p]=l.useState(A),[Y,$]=l.useState(E),[G,z]=l.useState(!1),I=l.useRef(null),U=l.useRef(null),M=a=>{if(a==null||a==="")return"";const c=Number(a);return isNaN(c)?"":c.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})};l.useEffect(()=>{var a,c;r!=null&&r.id?p({descricao:r.descricao||"",valor_aporte:M(r.valor_aporte),categoria_id:((a=r.categoria_id)==null?void 0:a.toString())||"",instituicao_id:((c=r.instituicao_id)==null?void 0:c.toString())||"",data:r.data?new Date(r.data).toISOString().split("T")[0]:A.data}):p(A)},[r,_]),l.useEffect(()=>{$({goal:M(g)})},[g,G]),l.useEffect(()=>{var c;const a=(c=I.current)==null?void 0:c.input;if(a){const y=a.value.length;a.setSelectionRange(y,y)}},[x.valor_aporte]),l.useEffect(()=>{var c;const a=(c=U.current)==null?void 0:c.input;if(a){const y=a.value.length;a.setSelectionRange(y,y)}},[Y.goal]);const W=a=>{if(typeof a=="number")return a;if(!a)return 0;const c=String(a).replace(/\./g,"").replace(",","."),y=parseFloat(c);return isNaN(y)?0:y},L=a=>{a.preventDefault();const c=W(x.valor_aporte);if(c<=0){O({title:"Erro",description:"Informe um valor de aporte válido maior que zero.",variant:"destructive"});return}m({...x,valor_aporte:c},r==null?void 0:r.id),p(A)},ee=a=>{F(a),a||p(A)},k=(a,c)=>{p({...x,[c]:a})},te=a=>{$({goal:a})},s=async a=>{a.preventDefault();const c=W(Y.goal);if(isNaN(c)||c<0){O({title:"Erro",description:"Defina um valor válido para a meta.",variant:"destructive"});return}try{await B(c)}catch{O({title:"Erro",description:"Não foi possível salvar a meta.",variant:"destructive"});return}O({title:"Meta atualizada!",description:`Nova meta mensal: R$ ${c.toLocaleString("pt-BR",{minimumFractionDigits:2})}`}),z(!1)};return e.jsxs("div",{className:"flex items-center gap-2",children:[Number(g)>0&&e.jsxs(Ke,{variant:"secondary",children:["Meta atual: R$ ",Number(g).toLocaleString("pt-BR",{minimumFractionDigits:2}),"/mês"]}),e.jsxs(me,{open:_,onOpenChange:ee,children:[!(r!=null&&r.id)&&e.jsx(ue,{asChild:!0,children:e.jsxs(X,{children:[e.jsx(it,{className:"w-4 h-4 mr-2"}),"Novo Aporte"]})}),e.jsxs(he,{children:[e.jsxs(xe,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"w-5 h-5 text-primary"}),r!=null&&r.id?"Editar Aporte":"Registrar Investimento"]}),e.jsx(ge,{children:r!=null&&r.id?"Atualize os detalhes do seu aporte.":"Adicione um novo aporte para seus investimentos."})]}),e.jsxs("form",{onSubmit:L,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"description",children:"Descrição (Opcional)"}),e.jsx(fe,{id:"description",placeholder:"Ex: Aporte mensal",value:x.descricao,onChange:a=>p({...x,descricao:a.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"amount",children:"Valor do Aporte (R$)"}),e.jsx(je,{id:"amount",placeholder:"0,00",value:x.valor_aporte,onChange:a=>k(a,"valor_aporte"),ref:I,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"date",children:"Data"}),e.jsx(fe,{id:"date",type:"date",value:x.data,onChange:a=>p({...x,data:a.target.value}),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"category",children:"Categoria"}),Q.length>0?e.jsxs(ve,{value:x.categoria_id,onValueChange:a=>p({...x,categoria_id:a}),required:!0,children:[e.jsx(Ne,{children:e.jsx(be,{placeholder:"Selecione uma categoria"})}),e.jsx(we,{children:Q.map(a=>e.jsx(Ce,{value:a.id.toString(),children:a.nome},a.id))})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma categoria de investimento disponível."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"institution",children:"Instituição Financeira"}),D.length>0?e.jsxs(ve,{value:x.instituicao_id,onValueChange:a=>p({...x,instituicao_id:a}),required:!0,children:[e.jsx(Ne,{children:e.jsx(be,{placeholder:"Selecione uma instituição"})}),e.jsx(we,{children:D.map(a=>e.jsx(Ce,{value:a.id.toString(),children:a.nome_banco},a.id))})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma instituição financeira disponível."})]})]}),e.jsx(X,{type:"submit",className:"w-full",children:r!=null&&r.id?"Salvar Alterações":"Registrar Aporte"})]})]})]}),e.jsxs(me,{open:G,onOpenChange:z,children:[e.jsx(ue,{asChild:!0,children:e.jsxs(X,{variant:"outline",children:[e.jsx(Ie,{className:"w-4 h-4 mr-2"}),"Definir Meta"]})}),e.jsxs(he,{children:[e.jsxs(xe,{children:[e.jsx(pe,{children:"Definir Meta de Aportes"}),e.jsx(ge,{children:"Defina sua meta mensal de investimentos para acompanhar seu progresso."})]}),e.jsxs("form",{onSubmit:s,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"goalAmount",children:"Meta Mensal (R$)"}),e.jsx(je,{id:"goalAmount",placeholder:"0,00",value:Y.goal,onChange:te,ref:U,required:!0})]}),e.jsx(X,{type:"submit",className:"w-full",children:"Definir Meta"})]})]})]})]})}const oe=10,xt="investmentsPage";function _t(){const{investments:m,categories:r,accounts:F,addInvestment:_,updateInvestment:g,deleteInvestment:B,investmentGoal:j}=_e(),{toast:D}=Ae(),{addPoints:O,registerAction:Q,evaluateAchievements:A,setMetaMonthHit:E}=ze(),[x,p]=l.useState(!1),[Y,$]=l.useState(null),[G,z]=l.useState(1),[I,U]=l.useState("relatorio"),[M,W]=l.useState(""),[L,ee]=l.useState("all"),[k,te]=l.useState("date-desc"),[s,a]=Qe(`filter_${xt}`,()=>({periodType:"monthly",dateRange:void 0,month:new Date().getMonth(),year:new Date().getFullYear()})),c=t=>{a({...s,dateRange:t})},y=t=>{a({dateRange:void 0,periodType:"monthly",month:t,year:s.year||new Date().getFullYear()})},Le=t=>{a(n=>({...n,dateRange:void 0,year:t}))},Pe=t=>{a(n=>({...n,periodType:t,dateRange:void 0}))};l.useEffect(()=>{z(1)},[M,L,k,s,I]);const H=l.useMemo(()=>r.filter(t=>t.tipo==="investimento"),[r]),{filteredInvestments:N,totalInvested:R}=l.useMemo(()=>{let t=[],n,i;s.dateRange&&s.dateRange.from?(n=s.dateRange.from,i=s.dateRange.to||s.dateRange.from):s.periodType==="yearly"&&s.year?(n=st(new Date(s.year,0,1)),i=rt(new Date(s.year,11,31))):s.periodType==="monthly"&&s.month!==void 0&&s.year&&(n=V(new Date(s.year,s.month,1)),i=q(new Date(s.year,s.month,1))),n&&i&&(i.setHours(23,59,59,999),t=m.filter(o=>{const d=K(o.data);return d>=n&&d<=i})),I==="relatorio"&&M&&(t=t.filter(o=>o.descricao.toLowerCase().includes(M.toLowerCase()))),L!=="all"&&(t=t.filter(o=>o.categoria_id===L)),t.sort((o,d)=>{switch(k){case"date-asc":return new Date(o.data)-new Date(d.data);case"date-desc":return new Date(d.data)-new Date(o.data);case"value-asc":return o.valor_aporte-d.valor_aporte;case"value-desc":return d.valor_aporte-o.valor_aporte;case"description":return o.descricao.localeCompare(d.descricao);default:return new Date(d.data)-new Date(o.data)}});const f=t.reduce((o,d)=>o+d.valor_aporte,0);return{filteredInvestments:t,totalInvested:f}},[m,s,M,L,k,I]),Be=l.useMemo(()=>{if(!(Number(j)||0)||s.periodType!=="monthly")return!1;const n=new Date;return s.year===n.getFullYear()&&s.month===n.getMonth()?R===0:!1},[j,s,R]);l.useMemo(()=>{const t=Number(j)||0;if(!t)return{streak:0,series:[]};const i=re({start:ne(new Date,11),end:new Date}).map(o=>{const d=V(o),v=q(o),u=m.filter(h=>{const J=K(h.data);return J>=d&&J<=v}).reduce((h,J)=>h+J.valor_aporte,0);return{label:Re(o,"MMM/yy"),invested:u,achieved:u>=t}});let f=0;for(let o=i.length-1;o>=0&&i[o].achieved;o--)f++;return{streak:f,series:i}},[m,j]);const ce=l.useMemo(()=>{if(N.length===0)return[];const t=H.reduce((n,i)=>(n[i.id]={categoryName:i.nome,total:0},n),{});return N.forEach(n=>{t[n.categoria_id]&&(t[n.categoria_id].total+=n.valor_aporte)}),Object.values(t).filter(n=>n.total>0).sort((n,i)=>i.total-n.total)},[N,H]),ae=Math.ceil(N.length/oe),Oe=N.slice((G-1)*oe,G*oe),$e=l.useMemo(()=>{const t=Number(j)||0;return re({start:ne(new Date,5),end:new Date}).map(i=>{const f=V(i),o=q(i),d=m.filter(v=>{const u=K(v.data);return u>=f&&u<=o}).reduce((v,u)=>v+u.valor_aporte,0);return{label:Re(i,"MMM/yy",{locale:dt}),invested:d,achieved:t>0?d>=t:!1}})},[m,j]),se=l.useMemo(()=>{if(s.periodType!=="monthly"||s.month===void 0||!s.year)return null;const t=V(new Date(s.year,s.month,1)),n=q(new Date(s.year,s.month,1)),i=ne(t,1),f=V(i),o=q(i),d=m.filter(u=>{const h=K(u.data);return h>=t&&h<=n}).reduce((u,h)=>u+h.valor_aporte,0),v=m.filter(u=>{const h=K(u.data);return h>=f&&h<=o}).reduce((u,h)=>u+h.valor_aporte,0);return v===0?d>0?100:0:(d-v)/v*100},[m,s]),de=l.useMemo(()=>{if(s.dateRange&&s.dateRange.from)return re({start:V(s.dateRange.from),end:q(s.dateRange.to||s.dateRange.from)}).length;if(s.periodType==="yearly"&&s.year){const t=new Date;return s.year<t.getFullYear()?12:s.year>t.getFullYear()?0:t.getMonth()+1}return s.periodType==="monthly"&&s.month!==void 0&&s.year,1},[s]),P=l.useMemo(()=>{const t=Number(j)||0;return t>0?t*de:0},[j,de]),Ge=async(t,n)=>{try{const i=H.find(o=>o.id===t.categoria_id),f={...t,descricao:t.descricao||`Aporte em ${i==null?void 0:i.nome}`};if(n)await g(n,f),D({title:"Aporte atualizado com sucesso!"});else{await _(f),D({title:"Aporte adicionado com sucesso!"});const o=Number(f.valor_aporte)||0,d=10,v=Math.min(40,Math.floor(o/100));O(d+v,"novo_aporte"),Q("deposit",{amount:o});const u=R+o,h=P>0&&u>=P;E(h),A({monthlyStreak:void 0}),h&&D({title:"Meta do período alcançada! 🎯",description:"Conquista liberada e pontos adicionados."})}p(!1),$(null)}catch(i){D({title:"Erro ao salvar aporte",description:i.message,variant:"destructive"})}},ke=t=>{$({...t,categories:H}),p(!0)},Te=async t=>{try{await B(t),D({title:"Aporte excluído com sucesso!"})}catch(n){D({title:"Erro ao excluir aporte",description:n.message,variant:"destructive"})}},Ve=t=>{t>0&&t<=ae&&z(t)},qe=t=>{t||$(null),p(t)};return e.jsxs(e.Fragment,{children:[e.jsxs(He,{children:[e.jsx("title",{children:"Gestão de Investimentos - Lumify"}),e.jsx("meta",{name:"description",content:"Acompanhe seus aportes e metas de investimento."})]}),e.jsxs("div",{className:"space-y-4 md:space-y-5 page-top",children:[e.jsx(nt,{title:"Gestão de Investimentos",subtitle:"Acompanhe seus aportes e metas de investimento",actionButton:e.jsx(ht,{onSubmit:Ge,investmentToEdit:Y,isOpen:x,onOpenChange:qe})}),e.jsxs(lt,{value:I,onValueChange:U,className:"w-full",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsxs(ct,{className:"grid w-full md:w-auto grid-cols-2",children:[e.jsxs(Se,{value:"relatorio",className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"h-4 w-4"})," Relatório"]}),e.jsxs(Se,{value:"dashboard",className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4"})," Dashboard"]})]}),e.jsx("div",{className:"w-full md:w-auto",children:e.jsx(ot,{periodType:s.periodType,setPeriodType:Pe,dateRange:s.dateRange,setDateRange:c,month:s.month,setMonth:y,year:s.year,setYear:Le})})]}),e.jsx(De,{value:"relatorio",className:"mt-4 md:mt-5 space-y-4 md:space-y-5",children:e.jsxs(b,{children:[e.jsxs(w,{children:[e.jsx(C,{children:"Seus Aportes"}),e.jsx(le,{children:"Lista de todos os aportes no período selecionado."})]}),e.jsxs(S,{children:[e.jsx(We,{transactions:Oe,categories:H,accounts:F,type:"investment",onEdit:ke,onDelete:Te,searchTerm:M,onSearchChange:W,selectedCategory:L,onCategoryChange:ee,sortBy:k,onSortChange:te}),ae>1&&e.jsx(Je,{currentPage:G,totalPages:ae,onPageChange:Ve})]})]})}),e.jsxs(De,{value:"dashboard",className:"mt-4 md:mt-5 space-y-4 md:space-y-5",children:[Be&&e.jsxs(b,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsxs(C,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(mt,{className:"h-4 w-4 text-warning"}),"Começo de mês: ainda sem aportes"]})}),e.jsx(S,{children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Faça um pequeno aporte agora para manter o ritmo e alcançar sua meta."}),e.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-3 py-1.5 bg-primary text-white rounded-md hover:opacity-90",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"})," Registrar Aporte"]})]})})]}),e.jsxs("div",{className:"grid gap-3 md:gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(b,{children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"Total Aportado"}),e.jsx(ye,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold text-income",children:R.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de aportes no período selecionado."})]})]}),e.jsxs(b,{children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"Número de Aportes"}),e.jsx(ie,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:N.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Quantidade de aportes realizados."})]})]}),e.jsxs(b,{children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"Aporte Médio"}),e.jsx(Z,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:N.length>0?(R/N.length).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"R$ 0,00"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Valor médio por aporte."})]})]}),e.jsxs(b,{children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:"Maior Aporte"}),e.jsx(ye,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:N.length>0?Math.max(...N.map(t=>t.valor_aporte)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"R$ 0,00"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Maior aporte do período."})]})]}),e.jsxs(b,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsxs(C,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Ie,{className:"h-4 w-4 text-primary"})," Progresso da Meta (período)"]})}),e.jsx(S,{children:P>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(R/P*100),"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["R$ ",R.toLocaleString("pt-BR",{minimumFractionDigits:2})," de R$ ",P.toLocaleString("pt-BR",{minimumFractionDigits:2}),R>P&&e.jsxs("span",{className:"block text-green-600 font-medium",children:["R$ ",(R-P).toLocaleString("pt-BR",{minimumFractionDigits:2})," além da meta! 🎉"]})]})]}):e.jsx("p",{className:"text-xs text-muted-foreground",children:"Defina uma meta mensal para acompanhar o progresso."})})]}),se!==null&&e.jsxs(b,{children:[e.jsx(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(C,{className:"text-sm font-medium",children:"Variação m/m"})}),e.jsxs(S,{children:[e.jsxs("div",{className:`text-2xl font-bold ${se>=0?"text-income":"text-expense"}`,children:[se.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Comparado ao mês anterior."})]})]})]}),e.jsxs(b,{children:[e.jsxs(w,{children:[e.jsx(C,{children:"Evolução de Aportes (12 meses)"}),e.jsx(le,{children:"Meses com meta batida ficam destacados."})]}),e.jsx(S,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:$e.map((t,n)=>e.jsxs("div",{className:`p-3 rounded-md border ${t.achieved?"bg-success-muted border-success":"bg-muted"}`,children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:t.label}),e.jsxs("div",{className:"text-sm font-semibold mt-1",children:["R$ ",t.invested.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),Number(j)>0&&e.jsx("div",{className:`text-xs mt-1 ${t.achieved?"text-success":"text-muted-foreground"}`,children:t.achieved?"Meta batida":"Abaixo da meta"})]},n))})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 md:gap-4",children:[ce.length>0?e.jsx(Fe,{data:ce,title:"Divisão de Aportes por Categoria",description:"Análise percentual dos seus investimentos no período."}):e.jsx("div",{className:"text-center text-muted-foreground py-12 bg-card border rounded-lg",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-muted rounded-full flex items-center justify-center",children:e.jsx(Z,{className:"w-10 h-10 opacity-50"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-semibold text-lg",children:"Nenhum dado de investimento por categoria."}),e.jsx("p",{className:"text-sm max-w-md",children:"Registre seus aportes para ver a divisão por categoria."})]})]})}),F.length>0?e.jsx(Fe,{data:F.map(t=>({categoryName:t.nome_banco,total:Number(t.saldo)||0})),title:"Patrimônio por Instituição",description:"Distribuição dos saldos nas suas instituições financeiras (incluindo dívidas)"}):e.jsx("div",{className:"text-center text-muted-foreground py-12 bg-card border rounded-lg",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-muted rounded-full flex items-center justify-center",children:e.jsx(Z,{className:"w-10 h-10 opacity-50"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-semibold text-lg",children:"Nenhuma instituição registrada."}),e.jsx("p",{className:"text-sm max-w-md",children:"Adicione suas instituições financeiras para visualizar a distribuição do patrimônio."})]})]})})]})]})]})]})]})}export{_t as InvestmentsPage};
