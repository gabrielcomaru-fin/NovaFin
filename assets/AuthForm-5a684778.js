import{c as u,r as x,f as j,u as f,j as e,L as l,D as g,m as v,C as N,a as w,b as C,d as b,e as k,B as F}from"./index-0f4f9cbc.js";import{L as o,I as c}from"./label-cb5d17e1.js";const I=u("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),L=u("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function q({onLogin:n,onRegister:m}){const[s,S]=x.useState(!!n),[a,h]=x.useState({email:"",password:"",name:""}),{toast:d}=j(),{resetPassword:p}=f(),y=async t=>{t.preventDefault();try{if(s){if(!n)return;await n(a.email,a.password)}else{if(!m)return;await m(a.email,a.password,{data:{nome:a.name}})}}catch(r){d({title:"Erro",description:r.message||"Algo deu errado. Tente novamente.",variant:"destructive"})}},i=t=>{h({...a,[t.target.name]:t.target.value})};return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-background",children:[e.jsxs(l,{to:"/",className:"absolute top-4 left-4 flex items-center gap-2 text-foreground hover:text-primary transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:e.jsx(g,{className:"w-5 h-5 text-primary-foreground"})}),e.jsx("span",{className:"text-xl font-bold",children:"Lumify"})]}),e.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:e.jsxs(N,{children:[e.jsxs(w,{className:"text-center",children:[e.jsx(C,{className:"text-2xl font-semibold",children:s?"Entrar":"Criar Conta"}),e.jsx(b,{children:s?"Acesse seu controle financeiro pessoal":"Comece sua jornada de educação financeira"})]}),e.jsxs(k,{children:[e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[!s&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"name",children:"Nome"}),e.jsx(c,{id:"name",name:"name",type:"text",placeholder:"Seu nome completo",value:a.name,onChange:i,required:!s})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(c,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:a.email,onChange:i,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"password",children:"Senha"}),e.jsx(c,{id:"password",name:"password",type:"password",placeholder:"Sua senha",value:a.password,onChange:i,required:!0})]}),e.jsx(F,{type:"submit",className:"w-full",children:s?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Entrar"]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Criar Conta"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:s?e.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[e.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",onClick:async()=>{var r;const t=(r=a.email)==null?void 0:r.trim();if(!t){d({title:"Informe seu e-mail",description:"Digite seu e-mail no campo acima para enviar o link."});return}await p(t)},children:"Esqueceu sua senha?"}),e.jsx(l,{to:"/register",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"Não tem uma conta? Criar conta"})]}):e.jsx(l,{to:"/login",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"Já tem uma conta? Fazer login"})})]})]})})]})}export{q as A};
