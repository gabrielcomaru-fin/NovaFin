import{c as Xe,a5 as L,R as p,a6 as Fe,r as ie,j as m,g as Ye,$ as et,C as be,a as xe,b as Ae,d as Oe,e as Pe}from"./index-0f4f9cbc.js";import{d as O,_ as Ke,s as Be,t as tt,v as rt,i as C,w as ve,x as T,c as _,y as Ve,q as me,z as Me,D as nt,e as at,k as W,n as B,S as it,A as ot,F as st,h as ke,j as ct,H as V,m as lt,G as ut,b as ft,I as pt,J as Y,K as je,M as ee,u as dt,C as ze,g as vt,N as mt,R as ht,T as yt,L as gt}from"./generateCategoricalChart-71812082.js";const _e=Xe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);var bt=["points","className","baseLinePoints","connectNulls"];function M(){return M=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},M.apply(this,arguments)}function xt(r,e){if(r==null)return{};var n=At(r,e),t,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(a=0;a<o.length;a++)t=o[a],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}function At(r,e){if(r==null)return{};var n={};for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){if(e.indexOf(t)>=0)continue;n[t]=r[t]}return n}function we(r){return jt(r)||kt(r)||Pt(r)||Ot()}function Ot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pt(r,e){if(r){if(typeof r=="string")return ue(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(r,e)}}function kt(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function jt(r){if(Array.isArray(r))return ue(r)}function ue(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var Se=function(e){return e&&e.x===+e.x&&e.y===+e.y},_t=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(t){Se(t)?n[n.length-1].push(t):n[n.length-1].length>0&&n.push([])}),Se(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},U=function(e,n){var t=_t(e);n&&(t=[t.reduce(function(o,i){return[].concat(we(o),we(i))},[])]);var a=t.map(function(o){return o.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return t.length===1?"".concat(a,"Z"):a},wt=function(e,n,t){var a=U(e,t);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(U(n.reverse(),t).slice(1))},St=function(e){var n=e.points,t=e.className,a=e.baseLinePoints,o=e.connectNulls,i=xt(e,bt);if(!n||!n.length)return null;var l=L("recharts-polygon",t);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",s=wt(n,a,o);return p.createElement("g",{className:l},p.createElement("path",M({},O(i,!0),{fill:s.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:s})),c?p.createElement("path",M({},O(i,!0),{fill:"none",d:U(n,o)})):null,c?p.createElement("path",M({},O(i,!0),{fill:"none",d:U(a,o)})):null)}var f=U(n,o);return p.createElement("path",M({},O(i,!0),{fill:f.slice(-1)==="Z"?i.fill:"none",className:l,d:f}))},Tt=Ke,Rt=tt,Et=Be;function Lt(r,e){return r&&r.length?Tt(r,Et(e),Rt):void 0}var It=Lt;const Nt=Fe(It);var $t=Ke,Ct=Be,Dt=rt;function Ft(r,e){return r&&r.length?$t(r,Ct(e),Dt):void 0}var Kt=Ft;const Bt=Fe(Kt);var Vt=["cx","cy","angle","ticks","axisLine"],Mt=["ticks","tick","angle","tickFormatter","stroke"];function G(r){"@babel/helpers - typeof";return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(r)}function J(){return J=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},J.apply(this,arguments)}function Te(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,t)}return n}function N(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Te(Object(n),!0).forEach(function(t){oe(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function Re(r,e){if(r==null)return{};var n=zt(r,e),t,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(a=0;a<o.length;a++)t=o[a],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}function zt(r,e){if(r==null)return{};var n={};for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){if(e.indexOf(t)>=0)continue;n[t]=r[t]}return n}function Wt(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Ee(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,Ge(t.key),t)}}function Gt(r,e,n){return e&&Ee(r.prototype,e),n&&Ee(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Ht(r,e,n){return e=re(e),Zt(r,We()?Reflect.construct(e,n||[],re(r).constructor):e.apply(r,n))}function Zt(r,e){if(e&&(G(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qt(r)}function qt(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function We(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(We=function(){return!!r})()}function re(r){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},re(r)}function Ut(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&fe(r,e)}function fe(r,e){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},fe(r,e)}function oe(r,e,n){return e=Ge(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Ge(r){var e=Jt(r,"string");return G(e)=="symbol"?e:e+""}function Jt(r,e){if(G(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e||"default");if(G(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var se=function(r){function e(){return Wt(this,e),Ht(this,e,arguments)}return Ut(e,r),Gt(e,[{key:"getTickValueCoord",value:function(t){var a=t.coordinate,o=this.props,i=o.angle,l=o.cx,c=o.cy;return T(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var t=this.props.orientation,a;switch(t){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var t=this.props,a=t.cx,o=t.cy,i=t.angle,l=t.ticks,c=Nt(l,function(f){return f.coordinate||0}),s=Bt(l,function(f){return f.coordinate||0});return{cx:a,cy:o,startAngle:i,endAngle:i,innerRadius:s.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var t=this.props,a=t.cx,o=t.cy,i=t.angle,l=t.ticks,c=t.axisLine,s=Re(t,Vt),f=l.reduce(function(h,u){return[Math.min(h[0],u.coordinate),Math.max(h[1],u.coordinate)]},[1/0,-1/0]),v=T(a,o,f[0],i),d=T(a,o,f[1],i),b=N(N(N({},O(s,!1)),{},{fill:"none"},O(c,!1)),{},{x1:v.x,y1:v.y,x2:d.x,y2:d.y});return p.createElement("line",J({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var t=this,a=this.props,o=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,s=a.stroke,f=Re(a,Mt),v=this.getTickTextAnchor(),d=O(f,!1),b=O(i,!1),h=o.map(function(u,g){var x=t.getTickValueCoord(u),A=N(N(N(N({textAnchor:v,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},d),{},{stroke:"none",fill:s},b),{},{index:g},x),{},{payload:u});return p.createElement(_,J({className:L("recharts-polar-radius-axis-tick",Ve(i)),key:"tick-".concat(u.coordinate)},me(t.props,u,g)),e.renderTickItem(i,A,c?c(u.value,g):u.value))});return p.createElement(_,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var t=this.props,a=t.ticks,o=t.axisLine,i=t.tick;return!a||!a.length?null:p.createElement(_,{className:L("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),i&&this.renderTicks(),Me.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(t,a,o){var i;return p.isValidElement(t)?i=p.cloneElement(t,a):C(t)?i=t(a):i=p.createElement(ve,J({},a,{className:"recharts-polar-radius-axis-tick-value"}),o),i}}])}(ie.PureComponent);oe(se,"displayName","PolarRadiusAxis");oe(se,"axisType","radiusAxis");oe(se,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function H(r){"@babel/helpers - typeof";return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(r)}function D(){return D=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},D.apply(this,arguments)}function Le(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,t)}return n}function $(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Le(Object(n),!0).forEach(function(t){ce(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function Qt(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Ie(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,Ze(t.key),t)}}function Xt(r,e,n){return e&&Ie(r.prototype,e),n&&Ie(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Yt(r,e,n){return e=ne(e),er(r,He()?Reflect.construct(e,n||[],ne(r).constructor):e.apply(r,n))}function er(r,e){if(e&&(H(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tr(r)}function tr(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function He(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(He=function(){return!!r})()}function ne(r){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ne(r)}function rr(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&pe(r,e)}function pe(r,e){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},pe(r,e)}function ce(r,e,n){return e=Ze(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Ze(r){var e=nr(r,"string");return H(e)=="symbol"?e:e+""}function nr(r,e){if(H(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e||"default");if(H(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var ar=Math.PI/180,Ne=1e-5,le=function(r){function e(){return Qt(this,e),Yt(this,e,arguments)}return rr(e,r),Xt(e,[{key:"getTickLineCoord",value:function(t){var a=this.props,o=a.cx,i=a.cy,l=a.radius,c=a.orientation,s=a.tickSize,f=s||8,v=T(o,i,l,t.coordinate),d=T(o,i,l+(c==="inner"?-1:1)*f,t.coordinate);return{x1:v.x,y1:v.y,x2:d.x,y2:d.y}}},{key:"getTickTextAnchor",value:function(t){var a=this.props.orientation,o=Math.cos(-t.coordinate*ar),i;return o>Ne?i=a==="outer"?"start":"end":o<-Ne?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var t=this.props,a=t.cx,o=t.cy,i=t.radius,l=t.axisLine,c=t.axisLineType,s=$($({},O(this.props,!1)),{},{fill:"none"},O(l,!1));if(c==="circle")return p.createElement(nt,D({className:"recharts-polar-angle-axis-line"},s,{cx:a,cy:o,r:i}));var f=this.props.ticks,v=f.map(function(d){return T(a,o,i,d.coordinate)});return p.createElement(St,D({className:"recharts-polar-angle-axis-line"},s,{points:v}))}},{key:"renderTicks",value:function(){var t=this,a=this.props,o=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,s=a.stroke,f=O(this.props,!1),v=O(i,!1),d=$($({},f),{},{fill:"none"},O(l,!1)),b=o.map(function(h,u){var g=t.getTickLineCoord(h),x=t.getTickTextAnchor(h),A=$($($({textAnchor:x},f),{},{stroke:"none",fill:s},v),{},{index:u,payload:h,x:g.x2,y:g.y2});return p.createElement(_,D({className:L("recharts-polar-angle-axis-tick",Ve(i)),key:"tick-".concat(h.coordinate)},me(t.props,h,u)),l&&p.createElement("line",D({className:"recharts-polar-angle-axis-tick-line"},d,g)),i&&e.renderTickItem(i,A,c?c(h.value,u):h.value))});return p.createElement(_,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var t=this.props,a=t.ticks,o=t.radius,i=t.axisLine;return o<=0||!a||!a.length?null:p.createElement(_,{className:L("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(t,a,o){var i;return p.isValidElement(t)?i=p.cloneElement(t,a):C(t)?i=t(a):i=p.createElement(ve,D({},a,{className:"recharts-polar-angle-axis-tick-value"}),o),i}}])}(ie.PureComponent);ce(le,"displayName","PolarAngleAxis");ce(le,"axisType","angleAxis");ce(le,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var te;function Z(r){"@babel/helpers - typeof";return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(r)}function z(){return z=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},z.apply(this,arguments)}function $e(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,t)}return n}function y(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$e(Object(n),!0).forEach(function(t){k(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function ir(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Ce(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,Ue(t.key),t)}}function or(r,e,n){return e&&Ce(r.prototype,e),n&&Ce(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function sr(r,e,n){return e=ae(e),cr(r,qe()?Reflect.construct(e,n||[],ae(r).constructor):e.apply(r,n))}function cr(r,e){if(e&&(Z(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lr(r)}function lr(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function qe(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qe=function(){return!!r})()}function ae(r){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ae(r)}function ur(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&de(r,e)}function de(r,e){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},de(r,e)}function k(r,e,n){return e=Ue(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Ue(r){var e=fr(r,"string");return Z(e)=="symbol"?e:e+""}function fr(r,e){if(Z(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e||"default");if(Z(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var R=function(r){function e(n){var t;return ir(this,e),t=sr(this,e,[n]),k(t,"pieRef",null),k(t,"sectorRefs",[]),k(t,"id",dt("recharts-pie-")),k(t,"handleAnimationEnd",function(){var a=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),C(a)&&a()}),k(t,"handleAnimationStart",function(){var a=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),C(a)&&a()}),t.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},t}return ur(e,r),or(e,[{key:"isActiveIndex",value:function(t){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(t)!==-1:t===a}},{key:"hasActiveIndex",value:function(){var t=this.props.activeIndex;return Array.isArray(t)?t.length!==0:t||t===0}},{key:"renderLabels",value:function(t){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.label,l=o.labelLine,c=o.dataKey,s=o.valueKey,f=O(this.props,!1),v=O(i,!1),d=O(l,!1),b=i&&i.offsetRadius||20,h=t.map(function(u,g){var x=(u.startAngle+u.endAngle)/2,A=T(u.cx,u.cy,u.outerRadius+b,x),j=y(y(y(y({},f),u),{},{stroke:"none"},v),{},{index:g,textAnchor:e.getTextAnchor(A.x,u.cx)},A),F=y(y(y(y({},f),u),{},{fill:"none",stroke:u.fill},d),{},{index:g,points:[T(u.cx,u.cy,u.outerRadius,x),A]}),w=c;return W(c)&&W(s)?w="value":W(c)&&(w=s),p.createElement(_,{key:"label-".concat(u.startAngle,"-").concat(u.endAngle,"-").concat(u.midAngle,"-").concat(g)},l&&e.renderLabelLineItem(l,F,"line"),e.renderLabelItem(i,j,B(u,w)))});return p.createElement(_,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(t){var a=this,o=this.props,i=o.activeShape,l=o.blendStroke,c=o.inactiveShape;return t.map(function(s,f){if((s==null?void 0:s.startAngle)===0&&(s==null?void 0:s.endAngle)===0&&t.length!==1)return null;var v=a.isActiveIndex(f),d=c&&a.hasActiveIndex()?c:null,b=v?i:d,h=y(y({},s),{},{stroke:l?s.fill:s.stroke,tabIndex:-1});return p.createElement(_,z({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},me(a.props,s,f),{key:"sector-".concat(s==null?void 0:s.startAngle,"-").concat(s==null?void 0:s.endAngle,"-").concat(s.midAngle,"-").concat(f)}),p.createElement(it,z({option:b,isActive:v,shapeType:"sector"},h)))})}},{key:"renderSectorsWithAnimation",value:function(){var t=this,a=this.props,o=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,s=a.animationEasing,f=a.animationId,v=this.state,d=v.prevSectors,b=v.prevIsAnimationActive;return p.createElement(ot,{begin:l,duration:c,isActive:i,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(h){var u=h.t,g=[],x=o&&o[0],A=x.startAngle;return o.forEach(function(j,F){var w=d&&d[F],I=F>0?st(j,"paddingAngle",0):0;if(w){var q=ke(w.endAngle-w.startAngle,j.endAngle-j.startAngle),P=y(y({},j),{},{startAngle:A+I,endAngle:A+q(u)+I});g.push(P),A=P.endAngle}else{var K=j.endAngle,S=j.startAngle,Q=ke(0,K-S),X=Q(u),E=y(y({},j),{},{startAngle:A+I,endAngle:A+X+I});g.push(E),A=E.endAngle}}),p.createElement(_,null,t.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(t){var a=this;t.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var t=this.props,a=t.sectors,o=t.isAnimationActive,i=this.state.prevSectors;return o&&a&&a.length&&(!i||!ct(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var t=this,a=this.props,o=a.hide,i=a.sectors,l=a.className,c=a.label,s=a.cx,f=a.cy,v=a.innerRadius,d=a.outerRadius,b=a.isAnimationActive,h=this.state.isAnimationFinished;if(o||!i||!i.length||!V(s)||!V(f)||!V(v)||!V(d))return null;var u=L("recharts-pie",l);return p.createElement(_,{tabIndex:this.props.rootTabIndex,className:u,ref:function(x){t.pieRef=x}},this.renderSectors(),c&&this.renderLabels(i),Me.renderCallByParent(this.props,null,!1),(!b||h)&&lt.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(t,a){return a.prevIsAnimationActive!==t.isAnimationActive?{prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,curSectors:t.sectors,prevSectors:[],isAnimationFinished:!0}:t.isAnimationActive&&t.animationId!==a.prevAnimationId?{prevAnimationId:t.animationId,curSectors:t.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:t.sectors!==a.curSectors?{curSectors:t.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(t,a){return t>a?"start":t<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(t,a,o){if(p.isValidElement(t))return p.cloneElement(t,a);if(C(t))return t(a);var i=L("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return p.createElement(at,z({},a,{key:o,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(t,a,o){if(p.isValidElement(t))return p.cloneElement(t,a);var i=o;if(C(t)&&(i=t(a),p.isValidElement(i)))return i;var l=L("recharts-pie-label-text",typeof t!="boolean"&&!C(t)?t.className:"");return p.createElement(ve,z({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(ie.PureComponent);te=R;k(R,"displayName","Pie");k(R,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ut.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});k(R,"parseDeltaAngle",function(r,e){var n=ee(e-r),t=Math.min(Math.abs(e-r),360);return n*t});k(R,"getRealPieData",function(r){var e=r.data,n=r.children,t=O(r,!1),a=ft(n,ze);return e&&e.length?e.map(function(o,i){return y(y(y({payload:o},t),o),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(o){return y(y({},t),o.props)}):[]});k(R,"parseCoordinateOfPie",function(r,e){var n=e.top,t=e.left,a=e.width,o=e.height,i=pt(a,o),l=t+Y(r.cx,a,a/2),c=n+Y(r.cy,o,o/2),s=Y(r.innerRadius,i,0),f=Y(r.outerRadius,i,i*.8),v=r.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:c,innerRadius:s,outerRadius:f,maxRadius:v}});k(R,"getComposedData",function(r){var e=r.item,n=r.offset,t=e.type.defaultProps!==void 0?y(y({},e.type.defaultProps),e.props):e.props,a=te.getRealPieData(t);if(!a||!a.length)return null;var o=t.cornerRadius,i=t.startAngle,l=t.endAngle,c=t.paddingAngle,s=t.dataKey,f=t.nameKey,v=t.valueKey,d=t.tooltipType,b=Math.abs(t.minAngle),h=te.parseCoordinateOfPie(t,n),u=te.parseDeltaAngle(i,l),g=Math.abs(u),x=s;W(s)&&W(v)?(je(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):W(s)&&(je(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=v);var A=a.filter(function(P){return B(P,x,0)!==0}).length,j=(g>=360?A:A-1)*c,F=g-A*b-j,w=a.reduce(function(P,K){var S=B(K,x,0);return P+(V(S)?S:0)},0),I;if(w>0){var q;I=a.map(function(P,K){var S=B(P,x,0),Q=B(P,f,K),X=(V(S)?S:0)/w,E;K?E=q.endAngle+ee(u)*c*(S!==0?1:0):E=i;var he=E+ee(u)*((S!==0?b:0)+X*F),ye=(E+he)/2,ge=(h.innerRadius+h.outerRadius)/2,Je=[{name:Q,value:S,payload:P,dataKey:x,type:d}],Qe=T(h.cx,h.cy,ge,ye);return q=y(y(y({percent:X,cornerRadius:o,name:Q,tooltipPayload:Je,midAngle:ye,middleRadius:ge,tooltipPosition:Qe},P),h),{},{value:B(P,x),startAngle:E,endAngle:he,payload:P,paddingAngle:ee(u)*c}),q})}return y(y({},h),{},{sectors:I,data:a})});var pr=vt({chartName:"PieChart",GraphicalChild:R,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:le},{axisType:"radiusAxis",AxisComp:se}],formatAxisMap:mt,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const dr=et("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function yr({className:r,variant:e,...n}){return m.jsx("div",{className:Ye(dr({variant:e}),r),...n})}const De=["hsl(213, 77%, 59%)","hsl(340, 82%, 52%)","hsl(160, 100%, 30%)","hsl(45, 100%, 50%)","hsl(280, 80%, 60%)","hsl(20, 100%, 60%)"],vr=({active:r,payload:e,label:n,totalValue:t})=>{if(r&&e&&e.length){const a=e[0],o=t>0?(a.value/t*100).toFixed(1):"0.0";return m.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[m.jsx("p",{className:"font-medium text-foreground",children:a.name}),m.jsxs("p",{className:"text-sm text-primary",children:["R$ ",a.value.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:[o,"% do total"]})]})}return null},gr=({data:r,title:e,description:n,icon:t,topN:a=5,height:o=320})=>{const{prepared:i,totalValue:l}=ie.useMemo(()=>{const c=(r||[]).map(d=>({name:d.categoryName,value:Number(d.total)||0})).filter(d=>d.value>0).sort((d,b)=>b.value-d.value);if(c.length===0)return{prepared:[],totalValue:0};const s=c.reduce((d,b)=>d+b.value,0);if(c.length<=a)return{prepared:c,totalValue:s};const f=c.slice(0,a),v=c.slice(a).reduce((d,b)=>d+b.value,0);return v>0&&f.push({name:"Outros",value:v}),{prepared:f,totalValue:s}},[r,a]);return!i||i.length===0?m.jsxs(be,{children:[m.jsxs(xe,{children:[m.jsxs(Ae,{className:"flex items-center gap-2",children:[t?m.jsx(t,{className:"h-5 w-5 text-primary"}):m.jsx(_e,{className:"h-5 w-5 text-primary"}),e||"Gráfico de Categorias"]}),n&&m.jsx(Oe,{children:n})]}),m.jsx(Pe,{children:m.jsx("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:m.jsx("p",{children:"Nenhum dado disponível"})})})]}):m.jsxs(be,{children:[m.jsxs(xe,{children:[m.jsxs(Ae,{className:"flex items-center gap-2",children:[t?m.jsx(t,{className:"h-5 w-5 text-primary"}):m.jsx(_e,{className:"h-5 w-5 text-primary"}),e]}),n&&m.jsx(Oe,{children:n})]}),m.jsx(Pe,{children:m.jsx("div",{style:{width:"100%",height:o},children:m.jsx(ht,{children:m.jsxs(pr,{children:[m.jsx(R,{data:i,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",stroke:"hsl(var(--background))",strokeWidth:2,label:({name:c,percent:s})=>s>=.05?`${(s*100).toFixed(0)}%`:"",children:i.map((c,s)=>m.jsx(ze,{fill:De[s%De.length]},`cell-${s}`))}),m.jsx(yt,{content:c=>m.jsx(vr,{...c,totalValue:l})}),m.jsx(gt,{iconType:"circle"})]})})})})]})};export{yr as B,gr as C,pr as P,R as a,_e as b};
