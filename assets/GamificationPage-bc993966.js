import{h as b,g as y,j as e,C as m,a as x,b as h,e as u,i as l,H as C,d as k}from"./index-9965e3b2.js";import{S as w}from"./star-2dc7b192.js";import{e as q}from"./index-9eaf3fc2.js";import{a as S,s as D,e as M,p as A}from"./index-a49341d7.js";import"./index-a53a69e9.js";function G(){const{points:p,achievements:a}=b(),{investments:j,investmentGoal:f}=y(),g=(()=>{const s=Number(f)||0;if(!s)return 0;const o=q({start:S(new Date,11),end:new Date}).map(t=>{const N=D(t),v=M(t);return j.filter(n=>{const r=A(n.data);return r>=N&&r<=v}).reduce((n,r)=>n+r.valor_aporte,0)>=s});let c=0;for(let t=o.length-1;t>=0&&o[t];t--)c++;return c})(),i=[...a||[]].sort((s,d)=>new Date(d.unlockedAt)-new Date(s.unlockedAt)).slice(0,3);return e.jsxs(m,{children:[e.jsx(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsxs(h,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-primary"})," Conquistas"]})}),e.jsxs(u,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-3 rounded-md border bg-card",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Pontos"}),e.jsx("div",{className:"text-2xl font-bold mt-1",children:p})]}),e.jsxs("div",{className:"p-3 rounded-md border bg-card",children:[e.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(l,{className:"h-4 w-4 text-primary"})," Streak mensal (metas)"]}),e.jsxs("div",{className:"text-2xl font-bold mt-1",children:[g,"m"]})]}),e.jsxs("div",{className:"p-3 rounded-md border bg-card",children:[e.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(l,{className:"h-4 w-4 text-success"})," Conquistas"]}),e.jsx("div",{className:"text-2xl font-bold mt-1",children:(a==null?void 0:a.length)||0})]})]}),i.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Recentes"}),e.jsx("div",{className:"grid gap-2",children:i.map(s=>e.jsxs("div",{className:"p-2 rounded-md border bg-muted/40 text-sm",children:[e.jsx("span",{className:"font-medium",children:s.title}),e.jsxs("span",{className:"text-muted-foreground",children:[" — ",s.description]})]},s.id))})]})]})]})}function T(){return e.jsxs(e.Fragment,{children:[e.jsxs(C,{children:[e.jsx("title",{children:"Conquistas - Lumify"}),e.jsx("meta",{name:"description",content:"Acompanhe seus pontos, streaks e conquistas."})]}),e.jsxs("div",{className:"space-y-4 md:space-y-5 page-top",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Conquistas"}),e.jsx(G,{}),e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Como ganhar pontos"}),e.jsx(k,{children:"Dicas rápidas para evoluir"})]}),e.jsx(u,{children:e.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-1 text-muted-foreground",children:[e.jsx("li",{children:"Registre aportes regularmente para manter seu streak diário."}),e.jsx("li",{children:"Quanto maior o aporte, mais pontos de bônus você ganha."}),e.jsx("li",{children:"Bata a meta do período para desbloquear conquistas especiais."})]})})]})]})]})}export{T as GamificationPage};
