import{c as Wt,R as b,a5 as at,r as D,j as x,g as Gt,C as Vt,a as Yt,b as Ut,d as Zt,k as qt,e as Xt}from"./index-9965e3b2.js";import{C as ft,b as dt}from"./CategoryChart-28334052.js";import{e as Jt}from"./index-9eaf3fc2.js";import{a as Ht,p as Qt}from"./index-a49341d7.js";import{f as yt}from"./index-65722b09.js";import{i as Pt,D as te,b as pt,c as I,d as B,e as jt,A as wt,h as C,j as St,k as $,l as ee,m as _t,G as Et,n as M,o as H,u as Dt,E as kt,S as mt,p as re,q as ne,r as ie,C as ae,g as oe,B as se,f as le,R as ce,T as ue,L as pe}from"./generateCategoricalChart-c617fb56.js";import{A as ot,X as Tt,Y as Ct,C as fe}from"./YAxis-7e317068.js";const ht=Wt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);var de=["type","layout","connectNulls","ref"],ye=["key"];function W(e){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(e)}function vt(e,t){if(e==null)return{};var n=me(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function me(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z.apply(this,arguments)}function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bt(Object(n),!0).forEach(function(r){E(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R(e){return ge(e)||be(e)||ve(e)||he()}function he(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ve(e,t){if(e){if(typeof e=="string")return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(e,t)}}function be(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ge(e){if(Array.isArray(e))return st(e)}function st(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nt(r.key),r)}}function Ae(e,t,n){return t&&gt(e.prototype,t),n&&gt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oe(e,t,n){return t=Q(t),Pe(e,$t()?Reflect.construct(t,n||[],Q(e).constructor):t.apply(e,n))}function Pe(e,t){if(t&&(W(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return je(e)}function je(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($t=function(){return!!e})()}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q(e)}function we(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lt(e,t)}function lt(e,t){return lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lt(e,t)}function E(e,t,n){return t=Nt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nt(e){var t=Se(e,"string");return W(t)=="symbol"?t:t+""}function Se(e,t){if(W(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(W(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J=function(e){function t(){var n;xe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Oe(this,t,[].concat(i)),E(n,"state",{isAnimationFinished:!0,totalLength:0}),E(n,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),E(n,"getStrokeDasharray",function(o,c,u){var s=u.reduce(function(v,A){return v+A});if(!s)return n.generateSimpleStrokeDasharray(c,o);for(var l=Math.floor(o/s),f=o%s,p=c-o,y=[],d=0,m=0;d<u.length;m+=u[d],++d)if(m+u[d]>f){y=[].concat(R(u.slice(0,d)),[f-m]);break}var h=y.length%2===0?[0,p]:[p];return[].concat(R(t.repeat(u,l)),R(y),h).map(function(v){return"".concat(v,"px")}).join(", ")}),E(n,"id",Dt("recharts-line-")),E(n,"pathRef",function(o){n.mainCurve=o}),E(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),E(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return we(t,e),Ae(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,c=a.xAxis,u=a.yAxis,s=a.layout,l=a.children,f=pt(l,kt);if(!f)return null;var p=function(m,h){return{x:m.x,y:m.y,value:m.value,errorVal:M(m.payload,h)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return b.createElement(I,y,f.map(function(d){return b.cloneElement(d,{key:"bar-".concat(d.props.dataKey),data:o,xAxis:c,yAxis:u,layout:s,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,u=c.dot,s=c.points,l=c.dataKey,f=B(this.props,!1),p=B(u,!0),y=s.map(function(m,h){var v=S(S(S({key:"dot-".concat(h),r:3},f),p),{},{index:h,cx:m.x,cy:m.y,value:m.value,dataKey:l,payload:m.payload,points:s});return t.renderDotItem(u,v)}),d={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return b.createElement(I,Z({className:"recharts-line-dots",key:"dots"},d),y)}},{key:"renderCurveStatically",value:function(r,i,a,o){var c=this.props,u=c.type,s=c.layout,l=c.connectNulls;c.ref;var f=vt(c,de),p=S(S(S({},B(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:u,layout:s,connectNulls:l});return b.createElement(jt,Z({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,c=o.points,u=o.strokeDasharray,s=o.isAnimationActive,l=o.animationBegin,f=o.animationDuration,p=o.animationEasing,y=o.animationId,d=o.animateNewValues,m=o.width,h=o.height,v=this.state,A=v.prevPoints,g=v.totalLength;return b.createElement(wt,{begin:l,duration:f,isActive:s,easing:p,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var O=j.t;if(A){var N=A.length/c.length,w=c.map(function(P,it){var Y=Math.floor(it*N);if(A[Y]){var U=A[Y],F=C(U.x,P.x),Ft=C(U.y,P.y);return S(S({},P),{},{x:F(O),y:Ft(O)})}if(d){var Rt=C(m*2,P.x),Mt=C(h/2,P.y);return S(S({},P),{},{x:Rt(O),y:Mt(O)})}return S(S({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(w,r,i)}var K=C(0,g),k=K(O),T;if(u){var z="".concat(u).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});T=a.getStrokeDasharray(k,g,z)}else T=a.generateSimpleStrokeDasharray(g,k);return a.renderCurveStatically(c,r,i,{strokeDasharray:T})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,c=a.isAnimationActive,u=this.state,s=u.prevPoints,l=u.totalLength;return c&&o&&o.length&&(!s&&l>0||!St(s,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,c=i.points,u=i.className,s=i.xAxis,l=i.yAxis,f=i.top,p=i.left,y=i.width,d=i.height,m=i.isAnimationActive,h=i.id;if(a||!c||!c.length)return null;var v=this.state.isAnimationFinished,A=c.length===1,g=at("recharts-line",u),j=s&&s.allowDataOverflow,O=l&&l.allowDataOverflow,N=j||O,w=$(h)?this.id:h,K=(r=B(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=K.r,T=k===void 0?3:k,z=K.strokeWidth,P=z===void 0?2:z,it=ee(o)?o:{},Y=it.clipDot,U=Y===void 0?!0:Y,F=T*2+P;return b.createElement(I,{className:g},j||O?b.createElement("defs",null,b.createElement("clipPath",{id:"clipPath-".concat(w)},b.createElement("rect",{x:j?p:p-y/2,y:O?f:f-d/2,width:j?y:y*2,height:O?d:d*2})),!U&&b.createElement("clipPath",{id:"clipPath-dots-".concat(w)},b.createElement("rect",{x:p-F/2,y:f-F/2,width:y+F,height:d+F}))):null,!A&&this.renderCurve(N,w),this.renderErrorBar(N,w),(A||o)&&this.renderDots(N,U,w),(!m||v)&&_t.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(R(r),[0]):r,o=[],c=0;c<i;++c)o=[].concat(R(o),R(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(b.isValidElement(r))a=b.cloneElement(r,i);else if(Pt(r))a=r(i);else{var o=i.key,c=vt(i,ye),u=at("recharts-line-dot",typeof r!="boolean"?r.className:"");a=b.createElement(te,Z({key:o},c,{className:u}))}return a}}])}(D.PureComponent);E(J,"displayName","Line");E(J,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Et.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});E(J,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,c=e.bandSize,u=e.displayedData,s=e.offset,l=t.layout,f=u.map(function(p,y){var d=M(p,o);return l==="horizontal"?{x:H({axis:n,ticks:i,bandSize:c,entry:p,index:y}),y:$(d)?null:r.scale(d),value:d,payload:p}:{x:$(d)?null:n.scale(d),y:H({axis:r,ticks:a,bandSize:c,entry:p,index:y}),value:d,payload:p}});return S({points:f,layout:l},s)});function G(e){"@babel/helpers - typeof";return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(e)}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kt(r.key),r)}}function Ee(e,t,n){return t&&xt(e.prototype,t),n&&xt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function De(e,t,n){return t=tt(t),ke(e,It()?Reflect.construct(t,n||[],tt(e).constructor):t.apply(e,n))}function ke(e,t){if(t&&(G(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Te(e)}function Te(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function It(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(It=function(){return!!e})()}function tt(e){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tt(e)}function Ce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ct(e,t)}function ct(e,t){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ct(e,t)}function Lt(e,t,n){return t=Kt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e){var t=$e(e,"string");return G(t)=="symbol"?t:t+""}function $e(e,t){if(G(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(G(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rt=function(e){function t(){return _e(this,t),De(this,t,arguments)}return Ce(t,e),Ee(t,[{key:"render",value:function(){return null}}])}(D.Component);Lt(rt,"displayName","ZAxis");Lt(rt,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Ne=["option","isActive"];function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}function Ie(e,t){if(e==null)return{};var n=Le(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Le(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ke(e){var t=e.option,n=e.isActive,r=Ie(e,Ne);return typeof t=="string"?D.createElement(mt,q({option:D.createElement(re,q({type:t},r)),isActive:n,shapeType:"symbols"},r)):D.createElement(mt,q({option:t,isActive:n,shapeType:"symbols"},r))}function V(e){"@babel/helpers - typeof";return V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(e)}function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?At(Object(n),!0).forEach(function(r){L(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bt(r.key),r)}}function Be(e,t,n){return t&&Ot(e.prototype,t),n&&Ot(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fe(e,t,n){return t=et(t),Re(e,zt()?Reflect.construct(t,n||[],et(e).constructor):t.apply(e,n))}function Re(e,t){if(t&&(V(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Me(e)}function Me(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zt=function(){return!!e})()}function et(e){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},et(e)}function We(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ut(e,t)}function ut(e,t){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ut(e,t)}function L(e,t,n){return t=Bt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(e){var t=Ge(e,"string");return V(t)=="symbol"?t:t+""}function Ge(e,t){if(V(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(V(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nt=function(e){function t(){var n;ze(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Fe(this,t,[].concat(i)),L(n,"state",{isAnimationFinished:!1}),L(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),L(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),L(n,"id",Dt("recharts-scatter-")),n}return We(t,e),Be(t,[{key:"renderSymbolsStatically",value:function(r){var i=this,a=this.props,o=a.shape,c=a.activeShape,u=a.activeIndex,s=B(this.props,!1);return r.map(function(l,f){var p=u===f,y=p?c:o,d=_(_({},s),l);return b.createElement(I,X({className:"recharts-scatter-symbol",key:"symbol-".concat(l==null?void 0:l.cx,"-").concat(l==null?void 0:l.cy,"-").concat(l==null?void 0:l.size,"-").concat(f)},ne(i.props,l,f),{role:"img"}),b.createElement(Ke,X({option:y,isActive:p,key:"symbol-".concat(f)},d)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,a=i.points,o=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,s=i.animationEasing,l=i.animationId,f=this.state.prevPoints;return b.createElement(wt,{begin:c,duration:u,isActive:o,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,d=a.map(function(m,h){var v=f&&f[h];if(v){var A=C(v.cx,m.cx),g=C(v.cy,m.cy),j=C(v.size,m.size);return _(_({},m),{},{cx:A(y),cy:g(y),size:j(y)})}var O=C(0,m.size);return _(_({},m),{},{size:O(y)})});return b.createElement(I,null,r.renderSymbolsStatically(d))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!St(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,c=i.yAxis,u=i.children,s=pt(u,kt);return s?s.map(function(l,f){var p=l.props,y=p.direction,d=p.dataKey;return b.cloneElement(l,{key:"".concat(y,"-").concat(d,"-").concat(a[f]),data:a,xAxis:o,yAxis:c,layout:y==="x"?"vertical":"horizontal",dataPointFormatter:function(h,v){return{x:h.cx,y:h.cy,value:y==="x"?+h.node.x:+h.node.y,errorVal:M(h,v)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,a=r.line,o=r.lineType,c=r.lineJointType,u=B(this.props,!1),s=B(a,!1),l,f;if(o==="joint")l=i.map(function(g){return{x:g.cx,y:g.cy}});else if(o==="fitting"){var p=ie(i),y=p.xmin,d=p.xmax,m=p.a,h=p.b,v=function(j){return m*j+h};l=[{x:y,y:v(y)},{x:d,y:v(d)}]}var A=_(_(_({},u),{},{fill:"none",stroke:u&&u.fill},s),{},{points:l});return b.isValidElement(a)?f=b.cloneElement(a,A):Pt(a)?f=a(A):f=b.createElement(jt,X({},A,{type:c})),b.createElement(I,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.points,o=r.line,c=r.className,u=r.xAxis,s=r.yAxis,l=r.left,f=r.top,p=r.width,y=r.height,d=r.id,m=r.isAnimationActive;if(i||!a||!a.length)return null;var h=this.state.isAnimationFinished,v=at("recharts-scatter",c),A=u&&u.allowDataOverflow,g=s&&s.allowDataOverflow,j=A||g,O=$(d)?this.id:d;return b.createElement(I,{className:v,clipPath:j?"url(#clipPath-".concat(O,")"):null},A||g?b.createElement("defs",null,b.createElement("clipPath",{id:"clipPath-".concat(O)},b.createElement("rect",{x:A?l:l-p/2,y:g?f:f-y/2,width:A?p:p*2,height:g?y:y*2}))):null,o&&this.renderLine(),this.renderErrorBar(),b.createElement(I,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||h)&&_t.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(D.PureComponent);L(nt,"displayName","Scatter");L(nt,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Et.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});L(nt,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,i=e.item,a=e.displayedData,o=e.xAxisTicks,c=e.yAxisTicks,u=e.offset,s=i.props.tooltipType,l=pt(i.props.children,ae),f=$(t.dataKey)?i.props.dataKey:t.dataKey,p=$(n.dataKey)?i.props.dataKey:n.dataKey,y=r&&r.dataKey,d=r?r.range:rt.defaultProps.range,m=d&&d[0],h=t.scale.bandwidth?t.scale.bandwidth():0,v=n.scale.bandwidth?n.scale.bandwidth():0,A=a.map(function(g,j){var O=M(g,f),N=M(g,p),w=!$(y)&&M(g,y)||"-",K=[{name:$(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:O,payload:g,dataKey:f,type:s},{name:$(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:N,payload:g,dataKey:p,type:s}];w!=="-"&&K.push({name:r.name||r.dataKey,unit:r.unit||"",value:w,payload:g,dataKey:y,type:s});var k=H({axis:t,ticks:o,bandSize:h,entry:g,index:j,dataKey:f}),T=H({axis:n,ticks:c,bandSize:v,entry:g,index:j,dataKey:p}),z=w!=="-"?r.scale(w):m,P=Math.sqrt(Math.max(z,0)/Math.PI);return _(_({},g),{},{cx:k,cy:T,x:k-P,y:T-P,xAxis:t,yAxis:n,zAxis:r,width:2*P,height:2*P,size:z,node:{x:O,y:N,z:w},tooltipPayload:K,tooltipPosition:{x:k,y:T},payload:g},l&&l[j]&&l[j].props)});return _({points:A},u)});var Ve=oe({chartName:"ComposedChart",GraphicalChild:[J,ot,se,nt],axisComponents:[{axisType:"xAxis",AxisComp:Tt},{axisType:"yAxis",AxisComp:Ct},{axisType:"zAxis",AxisComp:rt}],formatAxisMap:le});const Qe=D.memo(function({expenses:t,categories:n}){const r=D.useMemo(()=>{const i=n.filter(s=>s.tipo==="gasto"),a={};t.forEach(s=>{const l=s.categoria_id;a[l]||(a[l]=0),a[l]+=s.valor});const o=i.map(s=>({name:s.nome,value:a[s.id]||0,color:s.cor||"#8884d8"})).filter(s=>s.value>0).sort((s,l)=>l.value-s.value),c=o.slice(0,5),u=o.slice(5).reduce((s,l)=>s+l.value,0);return u>0&&c.push({name:"Outros",value:u,color:"#94a3b8"}),c},[t,n]);return r.length===0?x.jsx(ft,{data:[],title:"Gastos por Categoria",description:"Distribuição dos gastos por categoria",icon:dt}):x.jsx(ft,{data:r.map(i=>({categoryName:i.name,total:i.value})),title:"Gastos por Categoria",description:"Distribuição dos gastos por categoria",icon:dt,topN:5,height:320})}),tr=D.memo(function(){const{expenses:t}=Gt(),n=D.useMemo(()=>Jt({start:Ht(new Date,5),end:new Date}).map(s=>{const l=new Date(s.getFullYear(),s.getMonth(),1),f=new Date(s.getFullYear(),s.getMonth()+1,0),p=t.filter(h=>{const v=Qt(h.data);return v>=l&&v<=f}),y=p.reduce((h,v)=>h+v.valor,0),d=p.filter(h=>h.pago).reduce((h,v)=>h+v.valor,0),m=y-d;return{month:yt(s,"MMM/yy"),total:y,paid:d,pending:m,fullMonth:yt(s,"MMMM yyyy")}}),[t]),r=D.useMemo(()=>{if(n.length<2)return 0;const u=n[n.length-1].total,s=n[n.length-2].total;return(u-s)/s*100},[n]),i=({active:u,payload:s,label:l})=>u&&s&&s.length?x.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[x.jsx("p",{className:"font-medium text-foreground",children:l}),s.map((f,p)=>x.jsxs("p",{className:"text-sm",style:{color:f.color},children:[f.name,": R$ ",f.value.toLocaleString("pt-BR",{minimumFractionDigits:2})]},p))]}):null,a="#ef4444",o="#16a34a",c="#f59e0b";return x.jsxs(Vt,{children:[x.jsxs(Yt,{children:[x.jsxs(Ut,{className:"flex items-center gap-2",children:[x.jsx(ht,{className:"h-5 w-5 text-destructive"}),"Tendência de Gastos"]}),x.jsxs(Zt,{children:["Evolução dos gastos nos últimos 6 meses",r!==0&&x.jsxs("span",{className:`ml-2 flex items-center gap-1 ${r>0?"text-destructive":"text-green-600"}`,children:[r>0?x.jsx(qt,{className:"h-3 w-3"}):x.jsx(ht,{className:"h-3 w-3"}),Math.abs(r).toFixed(1),"% vs mês anterior"]})]})]}),x.jsx(Xt,{children:x.jsx("div",{className:"h-80",children:x.jsx(ce,{width:"100%",height:"100%",children:x.jsxs(Ve,{data:n,margin:{top:5,right:30,left:20,bottom:5},children:[x.jsx(fe,{strokeDasharray:"3 3",className:"opacity-30"}),x.jsx(Tt,{dataKey:"month",tick:{fontSize:12},tickLine:{stroke:"hsl(var(--muted-foreground))"}}),x.jsx(Ct,{tick:{fontSize:12},tickLine:{stroke:"hsl(var(--muted-foreground))"},tickFormatter:u=>`R$ ${(u/1e3).toFixed(0)}k`}),x.jsx(ue,{content:x.jsx(i,{})}),x.jsx(pe,{}),x.jsx(ot,{type:"monotone",dataKey:"paid",name:"Pago",stroke:o,fill:o,fillOpacity:.2,strokeOpacity:.7,dot:!1,activeDot:{r:5,fill:o,stroke:"#ffffff",strokeWidth:2}}),x.jsx(ot,{type:"monotone",dataKey:"pending",name:"Pendente",stroke:c,fill:c,fillOpacity:.18,strokeOpacity:.6,dot:!1,activeDot:{r:5,fill:c,stroke:"#ffffff",strokeWidth:2}}),x.jsx(J,{type:"monotone",dataKey:"total",stroke:a,strokeWidth:2.5,name:"Total",dot:{fill:a,stroke:a,strokeWidth:2,r:4},activeDot:{r:6,fill:a,stroke:"#ffffff",strokeWidth:2}})]})})})})]})});export{Qe as C,tr as E,J as L,ht as T,Ve as a};
