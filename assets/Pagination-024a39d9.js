import{c as R,r as d,q as Ue,j as e,s as le,t as Ve,v as Xe,R as m,g as c,w as ie,B as j,x as Ye,m as Ze,y as Ke,z as Qe}from"./index-0f4f9cbc.js";import{g as oe,T as ea,O as aa,W as sa,h as ta,i as ra,j as la,k as ne,l as ia,R as oa,m as na,D as ca,b as da,c as ma,d as xa,e as pa,C as K}from"./dialog-f052a184.js";import{I as ha}from"./label-cb5d17e1.js";import{S as Q,a as ee,b as ae,c as se,d as A,C as ua,e as ga}from"./select-47920f9f.js";import{P as F,c as $,F as z,d as I}from"./CompactHeader-bd48ca2c.js";import{B as N}from"./CategoryChart-4a62d883.js";import{T as fa}from"./trash-2-e0d7746e.js";import{W as te,B as ja,S as Na,F as va}from"./wallet-dba85729.js";import{B as wa}from"./building-2-fc611459.js";const O=R("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),re=R("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Xa=R("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),ba=R("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function Ya(a,s){const t=d.useRef(!0),[l,o]=d.useState(()=>{try{const g=localStorage.getItem(a);return g!==null?JSON.parse(g):typeof s=="function"?s():s}catch{return typeof s=="function"?s():s}});return d.useEffect(()=>{if(t.current){t.current=!1;return}try{localStorage.setItem(a,JSON.stringify(l))}catch{}},[a,l]),[l,o]}var ce="AlertDialog",[ya,Za]=Ue(ce,[oe]),u=oe(),de=a=>{const{__scopeAlertDialog:s,...t}=a,l=u(s);return e.jsx(oa,{...l,...t,modal:!0})};de.displayName=ce;var Da="AlertDialogTrigger",me=d.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...l}=a,o=u(t);return e.jsx(ea,{...o,...l,ref:s})});me.displayName=Da;var Aa="AlertDialogPortal",xe=a=>{const{__scopeAlertDialog:s,...t}=a,l=u(s);return e.jsx(ia,{...l,...t})};xe.displayName=Aa;var Ca="AlertDialogOverlay",pe=d.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...l}=a,o=u(t);return e.jsx(aa,{...o,...l,ref:s})});pe.displayName=Ca;var w="AlertDialogContent",[Ta,Ra]=ya(w),Sa=Xe("AlertDialogContent"),he=d.forwardRef((a,s)=>{const{__scopeAlertDialog:t,children:l,...o}=a,g=u(t),v=d.useRef(null),C=le(s,v),b=d.useRef(null);return e.jsx(sa,{contentName:w,titleName:ue,docsSlug:"alert-dialog",children:e.jsx(Ta,{scope:t,cancelRef:b,children:e.jsxs(ta,{role:"alertdialog",...g,...o,ref:C,onOpenAutoFocus:Ve(o.onOpenAutoFocus,f=>{var y;f.preventDefault(),(y=b.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[e.jsx(Sa,{children:l}),e.jsx(ka,{contentRef:v})]})})})});he.displayName=w;var ue="AlertDialogTitle",ge=d.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...l}=a,o=u(t);return e.jsx(ra,{...o,...l,ref:s})});ge.displayName=ue;var fe="AlertDialogDescription",je=d.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...l}=a,o=u(t);return e.jsx(la,{...o,...l,ref:s})});je.displayName=fe;var _a="AlertDialogAction",Ne=d.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...l}=a,o=u(t);return e.jsx(ne,{...o,...l,ref:s})});Ne.displayName=_a;var ve="AlertDialogCancel",we=d.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...l}=a,{cancelRef:o}=Ra(ve,t),g=u(t),v=le(s,o);return e.jsx(ne,{...g,...l,ref:v})});we.displayName=ve;var ka=({contentRef:a})=>{const s=`\`${w}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${w}\` by passing a \`${fe}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${w}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{var l;document.getElementById((l=a.current)==null?void 0:l.getAttribute("aria-describedby"))||console.warn(s)},[s,a]),null},Pa=de,Ea=me,Fa=xe,be=pe,ye=he,De=Ne,Ae=we,Ce=ge,Te=je;const $a=Pa,za=Ea,Ia=Fa,Re=m.forwardRef(({className:a,...s},t)=>e.jsx(be,{className:c("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t}));Re.displayName=be.displayName;const Se=m.forwardRef(({className:a,...s},t)=>e.jsxs(Ia,{children:[e.jsx(Re,{}),e.jsx(ye,{ref:t,className:c("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s})]}));Se.displayName=ye.displayName;const _e=({className:a,...s})=>e.jsx("div",{className:c("flex flex-col space-y-2 text-center sm:text-left",a),...s});_e.displayName="AlertDialogHeader";const ke=({className:a,...s})=>e.jsx("div",{className:c("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s});ke.displayName="AlertDialogFooter";const Pe=m.forwardRef(({className:a,...s},t)=>e.jsx(Ce,{ref:t,className:c("text-lg font-semibold",a),...s}));Pe.displayName=Ce.displayName;const Ee=m.forwardRef(({className:a,...s},t)=>e.jsx(Te,{ref:t,className:c("text-sm text-muted-foreground",a),...s}));Ee.displayName=Te.displayName;const Fe=m.forwardRef(({className:a,...s},t)=>e.jsx(De,{ref:t,className:c(ie(),a),...s}));Fe.displayName=De.displayName;const $e=m.forwardRef(({className:a,...s},t)=>e.jsx(Ae,{ref:t,className:c(ie({variant:"outline"}),"mt-2 sm:mt-0",a),...s}));$e.displayName=Ae.displayName;const ze=m.forwardRef(({className:a,...s},t)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:t,className:c("w-full caption-bottom text-sm",a),...s})}));ze.displayName="Table";const Ie=m.forwardRef(({className:a,...s},t)=>e.jsx("thead",{ref:t,className:c("[&_tr]:border-b",a),...s}));Ie.displayName="TableHeader";const Oe=m.forwardRef(({className:a,...s},t)=>e.jsx("tbody",{ref:t,className:c("[&_tr:last-child]:border-0",a),...s}));Oe.displayName="TableBody";const Oa=m.forwardRef(({className:a,...s},t)=>e.jsx("tfoot",{ref:t,className:c("bg-primary font-medium text-primary-foreground",a),...s}));Oa.displayName="TableFooter";const M=m.forwardRef(({className:a,...s},t)=>e.jsx("tr",{ref:t,className:c("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s}));M.displayName="TableRow";const h=m.forwardRef(({className:a,...s},t)=>e.jsx("th",{ref:t,className:c("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s}));h.displayName="TableHead";const x=m.forwardRef(({className:a,...s},t)=>e.jsx("td",{ref:t,className:c("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s}));x.displayName="TableCell";const Ma=m.forwardRef(({className:a,...s},t)=>e.jsx("caption",{ref:t,className:c("mt-4 text-sm text-muted-foreground",a),...s}));Ma.displayName="TableCaption";const Ka=({transactions:a,categories:s,accounts:t,paymentMethods:l,type:o,onEdit:g,onDelete:v,onTogglePayment:C,onUpdatePaymentMethod:b,selectable:f,selectedIds:y=[],onSelectOne:B,onSelectAll:L,searchTerm:S,onSearchChange:H,selectedCategory:_,onCategoryChange:q,paymentStatus:k,onPaymentStatusChange:W,sortBy:D,onSortChange:T})=>{const n=o==="expense",[Me,P]=d.useState(!1),[G,J]=d.useState(null),U=r=>{J(r),P(!0)},Be=async r=>{if(!(!G||!b))try{await b(G.id,{meio_pagamento_id:r}),P(!1),J(null)}catch(i){console.error("Erro ao atualizar meio de pagamento:",i)}},V=r=>({cartao_credito:K,cartao_debito:K,dinheiro:ja,pix:Na,transferencia:wa,boleto:va,outros:te})[r]||te,Le=!!(S&&String(S).trim()!==""),He=!!(_&&_!=="all"),qe=!!(n&&k&&k!=="all"),X=(r,i)=>D?D===r?e.jsx(ua,{className:"inline-block h-3.5 w-3.5 ml-1 opacity-70"}):D===i?e.jsx(ga,{className:"inline-block h-3.5 w-3.5 ml-1 opacity-70"}):null:null,Y=(r,i)=>{T&&T(D===i?r:i)};return e.jsxs("div",{className:"rounded-lg border overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(ze,{children:[e.jsx(Ie,{children:e.jsxs(M,{children:[f&&e.jsx(h,{className:"w-[40px] align-middle",children:e.jsx("input",{type:"checkbox",className:"rounded accent-primary",checked:a.length>0&&a.every(r=>y.includes(r.id)),onChange:r=>L&&L(a.map(i=>i.id),r.target.checked),"aria-label":"Selecionar todos"})}),e.jsx(h,{className:"align-middle whitespace-nowrap w-[38%]",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-[11px] uppercase text-muted-foreground",children:"Descrição"}),H&&e.jsxs(F,{children:[e.jsx($,{asChild:!0,children:e.jsx(j,{variant:"ghost",size:"icon",className:`h-6 w-6 p-0 ${Le?"text-primary bg-primary/10":"text-muted-foreground"} hover:text-foreground`,title:"Filtrar descrição",children:e.jsx(z,{className:"h-3.5 w-3.5"})})}),e.jsx(I,{className:"w-72",align:"start",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Filtrar Descrição"}),e.jsx(ha,{value:S||"",onChange:r=>H(r.target.value),placeholder:"Digite parte da descrição",className:"h-8 text-sm"})]})})]})]})}),e.jsx(h,{className:"hidden sm:table-cell align-middle whitespace-nowrap w-[12%]",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-[11px] uppercase text-muted-foreground",children:"Categoria"}),q&&e.jsxs(F,{children:[e.jsx($,{asChild:!0,children:e.jsx(j,{variant:"ghost",size:"icon",className:`h-6 w-6 p-0 ${He?"text-primary bg-primary/10":"text-muted-foreground"} hover:text-foreground`,title:"Filtrar categoria",children:e.jsx(z,{className:"h-3.5 w-3.5"})})}),e.jsx(I,{className:"w-56",align:"start",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Filtrar Categoria"}),e.jsxs(Q,{value:_||"all",onValueChange:q,children:[e.jsx(ee,{className:"h-8 text-sm",children:e.jsx(ae,{placeholder:"Todas"})}),e.jsxs(se,{children:[e.jsx(A,{value:"all",children:"Todas"}),s.map(r=>e.jsx(A,{value:r.id,children:r.nome},r.id))]})]})]})})]})]})}),n&&e.jsx(h,{className:"hidden md:table-cell align-middle whitespace-nowrap w-[8%]",children:e.jsx("div",{className:"flex items-center justify-center gap-1.5",children:e.jsx("span",{className:"text-xs uppercase text-muted-foreground",children:"Meio"})})}),!n&&e.jsx(h,{className:"hidden md:table-cell align-middle whitespace-nowrap w-[18%]",children:e.jsx("div",{className:"flex items-center gap-1.5",children:e.jsx("span",{className:"text-xs uppercase text-muted-foreground",children:"Instituição"})})}),e.jsx(h,{className:"align-middle cursor-pointer select-none w-[15%]",children:e.jsxs("div",{className:"flex items-center gap-1.5",onClick:()=>Y("value-asc","value-desc"),children:[e.jsx("span",{className:"text-xs uppercase text-muted-foreground",children:"Valor"}),X("value-asc","value-desc")]})}),e.jsx(h,{className:"hidden md:table-cell align-middle cursor-pointer select-none w-[10%]",children:e.jsxs("div",{className:"flex items-center gap-1.5",onClick:()=>Y("date-asc","date-desc"),children:[e.jsx("span",{className:"text-xs uppercase text-muted-foreground",children:"Data"}),X("date-asc","date-desc")]})}),n&&e.jsx(h,{className:"hidden sm:table-cell align-middle whitespace-nowrap w-[10%]",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-[11px] uppercase text-muted-foreground",children:"Status"}),W&&e.jsxs(F,{children:[e.jsx($,{asChild:!0,children:e.jsx(j,{variant:"ghost",size:"icon",className:`h-6 w-6 p-0 ${qe?"text-primary bg-primary/10":"text-muted-foreground"} hover:text-foreground`,title:"Filtrar status",children:e.jsx(z,{className:"h-3.5 w-3.5"})})}),e.jsx(I,{className:"w-56",align:"center",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Filtrar Status"}),e.jsxs(Q,{value:k||"all",onValueChange:W,children:[e.jsx(ee,{className:"h-8 text-sm",children:e.jsx(ae,{placeholder:"Todos"})}),e.jsxs(se,{children:[e.jsx(A,{value:"all",children:"Todos"}),e.jsx(A,{value:"paid",children:"Pagos"}),e.jsx(A,{value:"pending",children:"Pendentes"})]})]})]})})]})]})}),e.jsx(h,{className:"align-middle whitespace-nowrap w-[8%]",children:e.jsx("div",{className:"flex items-center gap-1.5",children:e.jsx("span",{className:"text-xs uppercase text-muted-foreground",children:"Ações"})})})]})}),e.jsxs(Oe,{children:[e.jsx(Ye,{children:a.map(r=>{const i=s.find(p=>p.id===r.categoria_id),E=t==null?void 0:t.find(p=>p.id===r.instituicao_id),We=n?r.valor:r.valor_aporte,Z=r.descricao;return e.jsxs(Ze.tr,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"hover:bg-muted/50",children:[f&&e.jsx(x,{className:"w-[40px]",children:e.jsx("input",{type:"checkbox",className:"rounded accent-primary",checked:y.includes(r.id),onChange:p=>B&&B(r.id,p.target.checked),"aria-label":`Selecionar ${Z}`})}),e.jsx(x,{className:"font-medium w-[38%]",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{children:Z}),e.jsx("div",{className:"sm:hidden",children:e.jsx(N,{variant:"outline",className:"text-xs",children:(i==null?void 0:i.nome)||"Sem categoria"})}),n&&e.jsx("div",{className:"sm:hidden",children:r.pago?e.jsxs(N,{variant:"default",className:"bg-green-100 text-green-800 border-green-200 text-xs",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),"Pago"]}):e.jsxs(N,{variant:"outline",className:"text-orange-600 border-orange-200 text-xs",children:[e.jsx(re,{className:"w-3 h-3 mr-1"}),"Pendente"]})})]})}),e.jsx(x,{className:"hidden sm:table-cell w-[12%]",children:e.jsx(N,{variant:"outline",children:(i==null?void 0:i.nome)||"Sem categoria"})}),n&&e.jsx(x,{className:"hidden md:table-cell w-[8%] align-middle",children:e.jsx("div",{className:"flex justify-center items-center",children:(()=>{const p=l==null?void 0:l.find(Je=>Je.id===r.meio_pagamento_id);if(!p)return e.jsx("button",{onClick:()=>U(r),className:"w-4 h-4 rounded-full bg-muted hover:bg-muted/80 transition-colors inline-flex items-center justify-center",title:"Adicionar meio de pagamento",children:e.jsx("span",{className:"text-xs text-muted-foreground",children:"+"})});const Ge=V(p.tipo);return e.jsx("button",{onClick:()=>U(r),className:"w-4 h-4 hover:scale-110 transition-transform inline-flex items-center justify-center",title:`${p.nome} - Clique para alterar`,children:e.jsx(Ge,{className:"w-4 h-4",style:{color:p.cor}})})})()})}),!n&&e.jsx(x,{className:"hidden md:table-cell w-[18%]",children:e.jsx(N,{variant:"secondary",children:(E==null?void 0:E.nome_banco)||"Sem instituição"})}),e.jsxs(x,{className:`font-semibold w-[15%] ${n?"text-destructive text-left":"text-green-500 text-left"}`,children:[n?"- R$ ":"+ R$ "," ",We.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx(x,{className:"hidden md:table-cell text-muted-foreground w-[10%] text-left",children:new Date(r.data).toLocaleDateString("pt-BR",{timeZone:"UTC"})}),n&&e.jsx(x,{className:"hidden sm:table-cell w-[10%]",children:e.jsx("div",{className:"flex items-center",children:r.pago?e.jsxs(N,{variant:"default",className:"bg-green-100 text-green-800 border-green-200",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),"Pago"]}):e.jsxs(N,{variant:"outline",className:"text-orange-600 border-orange-200",children:[e.jsx(re,{className:"w-3 h-3 mr-1"}),"Pendente"]})})}),e.jsx(x,{className:"w-[8%]",children:e.jsxs("div",{className:"flex items-center gap-1",children:[n&&C&&e.jsx(j,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>C(r.id),title:r.pago?"Marcar como não pago":"Marcar como pago",children:r.pago?e.jsx(ba,{className:"h-4 w-4 text-orange-600 hover:text-orange-700"}):e.jsx(O,{className:"h-4 w-4 text-green-600 hover:text-green-700"})}),e.jsx(j,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>g(r),children:e.jsx(na,{className:"h-4 w-4"})}),e.jsxs($a,{children:[e.jsx(za,{asChild:!0,children:e.jsx(j,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",children:e.jsx(fa,{className:"h-4 w-4"})})}),e.jsxs(Se,{children:[e.jsxs(_e,{children:[e.jsx(Pe,{children:"Você tem certeza?"}),e.jsx(Ee,{children:"Esta ação não pode ser desfeita. Isso excluirá permanentemente esta transação."})]}),e.jsxs(ke,{children:[e.jsx($e,{children:"Cancelar"}),e.jsx(Fe,{onClick:()=>v(r.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Excluir"})]})]})]})]})})]},r.id)})}),a.length===0&&e.jsx(M,{children:e.jsx(x,{colSpan:6,className:"py-10 text-center text-sm text-muted-foreground",children:"Nenhum resultado para os filtros aplicados."})})]})]})}),e.jsx(ca,{open:Me,onOpenChange:P,children:e.jsxs(da,{className:"sm:max-w-md",children:[e.jsxs(ma,{children:[e.jsx(xa,{children:"Alterar Meio de Pagamento"}),e.jsx(pa,{children:"Selecione um novo meio de pagamento para esta despesa."})]}),e.jsx("div",{className:"space-y-3",children:l==null?void 0:l.map(r=>{const i=V(r.tipo);return e.jsxs("button",{onClick:()=>Be(r.id),className:"w-full flex items-center gap-3 p-3 rounded-lg border hover:bg-muted/50 transition-colors",children:[e.jsx(i,{className:"w-4 h-4",style:{color:r.cor}}),e.jsx("span",{className:"font-medium",children:r.nome})]},r.id)})})]})})]})},Qa=({currentPage:a,totalPages:s,onPageChange:t})=>s<=1?null:e.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-6",children:[e.jsxs(j,{variant:"outline",size:"sm",onClick:()=>t(a-1),disabled:a===1,children:[e.jsx(Ke,{className:"h-4 w-4"}),e.jsx("span",{className:"ml-2",children:"Anterior"})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Página ",a," de ",s]}),e.jsxs(j,{variant:"outline",size:"sm",onClick:()=>t(a+1),disabled:a===s,children:[e.jsx("span",{className:"mr-2",children:"Próxima"}),e.jsx(Qe,{className:"h-4 w-4"})]})]});export{O as C,Xa as L,Qa as P,Ka as T,Ya as u};
