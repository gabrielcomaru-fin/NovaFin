import{k as j,i as g,j as e,C as N,a as v,b,e as k,l as o}from"./index-4214a3df.js";import{S as w}from"./star-450e8950.js";import{e as y,s as C,a as S,b as M,p as D}from"./index-b30782cb.js";function I(){const{points:m,achievements:a}=j(),{investments:x,investmentGoal:u}=g(),h=(()=>{const s=Number(u)||0;if(!s)return 0;const c=y({start:C(new Date,11),end:new Date}).map(t=>{const p=S(t),f=M(t);return x.filter(n=>{const r=D(n.data);return r>=p&&r<=f}).reduce((n,r)=>n+r.valor_aporte,0)>=s});let i=0;for(let t=c.length-1;t>=0&&c[t];t--)i++;return i})(),d=[...a||[]].sort((s,l)=>new Date(l.unlockedAt)-new Date(s.unlockedAt)).slice(0,3);return e.jsxs(N,{children:[e.jsx(v,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsxs(b,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-primary"})," Conquistas"]})}),e.jsxs(k,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-3 rounded-md border bg-card",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Pontos"}),e.jsx("div",{className:"text-2xl font-bold mt-1",children:m})]}),e.jsxs("div",{className:"p-3 rounded-md border bg-card",children:[e.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(o,{className:"h-4 w-4 text-primary"})," Streak mensal (metas)"]}),e.jsxs("div",{className:"text-2xl font-bold mt-1",children:[h,"m"]})]}),e.jsxs("div",{className:"p-3 rounded-md border bg-card",children:[e.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(o,{className:"h-4 w-4 text-success"})," Conquistas"]}),e.jsx("div",{className:"text-2xl font-bold mt-1",children:(a==null?void 0:a.length)||0})]})]}),d.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Recentes"}),e.jsx("div",{className:"grid gap-2",children:d.map(s=>e.jsxs("div",{className:"p-2 rounded-md border bg-muted/40 text-sm",children:[e.jsx("span",{className:"font-medium",children:s.title}),e.jsxs("span",{className:"text-muted-foreground",children:[" â€” ",s.description]})]},s.id))})]})]})]})}export{I as G};
